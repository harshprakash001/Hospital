"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/appointments";
exports.ids = ["pages/api/appointments"];
exports.modules = {

/***/ "jsonwebtoken":
/*!*******************************!*\
  !*** external "jsonwebtoken" ***!
  \*******************************/
/***/ ((module) => {

module.exports = require("jsonwebtoken");

/***/ }),

/***/ "mysql2/promise":
/*!*********************************!*\
  !*** external "mysql2/promise" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("mysql2/promise");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fappointments&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cappointments.js&middlewareConfigBase64=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fappointments&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cappointments.js&middlewareConfigBase64=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_appointments_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\appointments.js */ \"(api)/./pages/api/appointments.js\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_appointments_js__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_appointments_js__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/appointments\",\n        pathname: \"/api/appointments\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_appointments_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmFwcG9pbnRtZW50cyZwcmVmZXJyZWRSZWdpb249JmFic29sdXRlUGFnZVBhdGg9LiUyRnBhZ2VzJTVDYXBpJTVDYXBwb2ludG1lbnRzLmpzJm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNMO0FBQzFEO0FBQzBEO0FBQzFEO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQyx1REFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyxlQUFlLHdFQUFLLENBQUMsdURBQVE7QUFDcEM7QUFDTyx3QkFBd0IsZ0hBQW1CO0FBQ2xEO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG9zcGl0YWwtbWFuYWdlbWVudC8/YmE4YyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vcGFnZXNcXFxcYXBpXFxcXGFwcG9pbnRtZW50cy5qc1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBoYW5kbGVyIChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCBcImRlZmF1bHRcIik7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCBcImNvbmZpZ1wiKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2FwcG9pbnRtZW50c1wiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2FwcG9pbnRtZW50c1wiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcIlwiXG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLWFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fappointments&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cappointments.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./lib/dbConnect.js":
/*!**************************!*\
  !*** ./lib/dbConnect.js ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   dbConnect: () => (/* binding */ dbConnect)\n/* harmony export */ });\n/* harmony import */ var mysql2_promise__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mysql2/promise */ \"mysql2/promise\");\n/* harmony import */ var mysql2_promise__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mysql2_promise__WEBPACK_IMPORTED_MODULE_0__);\n// import mysql from 'mysql2/promise';\n// let connection;\n// const mysql = require('mysql2');\n// require('dotenv').config(); // Load environment variables\n// // Create a connection to the database\n// const connection = mysql.createConnection({\n//   host: process.env.DB_HOST,      // Use host from .env.local\n//   user: process.env.DB_USER,      // Use username from .env.local\n//   password: process.env.DB_PASSWORD, // Use blank password from .env.local\n//   database: process.env.DB_NAME    // Use database name from .env.local\n// });\n// // Connect to MySQL\n// connection.connect((err) => {\n//   if (err) {\n//     console.error('Error connecting: ' + err.stack);\n//     return;\n//   }\n//   console.log('Connected as id ' + connection.threadId);\n// });\n// module.exports = connection; // Export the connection for use in other files\n\nlet connection;\nasync function dbConnect() {\n    if (!connection) {\n        connection = await mysql2_promise__WEBPACK_IMPORTED_MODULE_0___default().createConnection({\n            host: process.env.MYSQL_HOST || \"localhost\",\n            user: process.env.MYSQL_USER || \"root\",\n            password: process.env.MYSQL_PASSWORD || \"\",\n            database: process.env.MYSQL_DATABASE || \"ram\",\n            waitForConnections: true,\n            connectionLimit: 10,\n            queueLimit: 0\n        });\n    }\n    return connection;\n} // import mysql from 'mysql2/promise';\n // async function dbConnect() {\n //   try {\n //     const connection = await mysql.createConnection({\n //       host: process.env.DB_HOST || 'localhost',\n //       user: process.env.DB_USER || 'root',\n //       password: process.env.DB_PASSWORD || '',\n //       database: process.env.DB_NAME || 'ram'\n //     });\n //     console.log('Database connected successfully!');\n //     return connection;\n //   } catch (error) {\n //     console.error('Database connection failed:', error);\n //     throw error; // Re-throw the error for further handling\n //   }\n // }\n // export default dbConnect; // Make sure this line is present\n // async function testConnection() {\n //   const db = await dbConnect();\n //   console.log('Database connected successfully!');\n //   await db.end();\n // }\n // testConnection().catch(console.error);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvZGJDb25uZWN0LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUlBLHNDQUFzQztBQUV0QyxrQkFBa0I7QUFHbEIsbUNBQW1DO0FBQ25DLDREQUE0RDtBQUU1RCx5Q0FBeUM7QUFDekMsOENBQThDO0FBQzlDLGdFQUFnRTtBQUNoRSxvRUFBb0U7QUFDcEUsNkVBQTZFO0FBQzdFLDBFQUEwRTtBQUMxRSxNQUFNO0FBRU4sc0JBQXNCO0FBQ3RCLGdDQUFnQztBQUNoQyxlQUFlO0FBQ2YsdURBQXVEO0FBQ3ZELGNBQWM7QUFDZCxNQUFNO0FBQ04sMkRBQTJEO0FBQzNELE1BQU07QUFFTiwrRUFBK0U7QUFFNUM7QUFFbkMsSUFBSUM7QUFFRyxlQUFlQztJQUNwQixJQUFJLENBQUNELFlBQVk7UUFDZkEsYUFBYSxNQUFNRCxzRUFBc0IsQ0FBQztZQUN4Q0ksTUFBTUMsUUFBUUMsR0FBRyxDQUFDQyxVQUFVLElBQUk7WUFDaENDLE1BQU1ILFFBQVFDLEdBQUcsQ0FBQ0csVUFBVSxJQUFJO1lBQ2hDQyxVQUFVTCxRQUFRQyxHQUFHLENBQUNLLGNBQWMsSUFBSTtZQUN4Q0MsVUFBVVAsUUFBUUMsR0FBRyxDQUFDTyxjQUFjLElBQUk7WUFDeENDLG9CQUFvQjtZQUNwQkMsaUJBQWlCO1lBQ2pCQyxZQUFZO1FBQ2Q7SUFDRjtJQUNBLE9BQU9mO0FBQ1QsRUFNQSxzQ0FBc0M7Q0FFdEMsK0JBQStCO0NBQy9CLFVBQVU7Q0FDVix3REFBd0Q7Q0FDeEQsa0RBQWtEO0NBQ2xELDZDQUE2QztDQUM3QyxpREFBaUQ7Q0FDakQsK0NBQStDO0NBQy9DLFVBQVU7Q0FDVix1REFBdUQ7Q0FDdkQseUJBQXlCO0NBQ3pCLHNCQUFzQjtDQUN0QiwyREFBMkQ7Q0FDM0QsOERBQThEO0NBQzlELE1BQU07Q0FDTixJQUFJO0NBRUosOERBQThEO0NBUTlELG9DQUFvQztDQUNwQyxrQ0FBa0M7Q0FDbEMscURBQXFEO0NBQ3JELG9CQUFvQjtDQUNwQixJQUFJO0NBRUoseUNBQXlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG9zcGl0YWwtbWFuYWdlbWVudC8uL2xpYi9kYkNvbm5lY3QuanM/MWQzYiJdLCJzb3VyY2VzQ29udGVudCI6WyJcclxuXHJcblxyXG5cclxuLy8gaW1wb3J0IG15c3FsIGZyb20gJ215c3FsMi9wcm9taXNlJztcclxuXHJcbi8vIGxldCBjb25uZWN0aW9uO1xyXG5cclxuXHJcbi8vIGNvbnN0IG15c3FsID0gcmVxdWlyZSgnbXlzcWwyJyk7XHJcbi8vIHJlcXVpcmUoJ2RvdGVudicpLmNvbmZpZygpOyAvLyBMb2FkIGVudmlyb25tZW50IHZhcmlhYmxlc1xyXG5cclxuLy8gLy8gQ3JlYXRlIGEgY29ubmVjdGlvbiB0byB0aGUgZGF0YWJhc2VcclxuLy8gY29uc3QgY29ubmVjdGlvbiA9IG15c3FsLmNyZWF0ZUNvbm5lY3Rpb24oe1xyXG4vLyAgIGhvc3Q6IHByb2Nlc3MuZW52LkRCX0hPU1QsICAgICAgLy8gVXNlIGhvc3QgZnJvbSAuZW52LmxvY2FsXHJcbi8vICAgdXNlcjogcHJvY2Vzcy5lbnYuREJfVVNFUiwgICAgICAvLyBVc2UgdXNlcm5hbWUgZnJvbSAuZW52LmxvY2FsXHJcbi8vICAgcGFzc3dvcmQ6IHByb2Nlc3MuZW52LkRCX1BBU1NXT1JELCAvLyBVc2UgYmxhbmsgcGFzc3dvcmQgZnJvbSAuZW52LmxvY2FsXHJcbi8vICAgZGF0YWJhc2U6IHByb2Nlc3MuZW52LkRCX05BTUUgICAgLy8gVXNlIGRhdGFiYXNlIG5hbWUgZnJvbSAuZW52LmxvY2FsXHJcbi8vIH0pO1xyXG5cclxuLy8gLy8gQ29ubmVjdCB0byBNeVNRTFxyXG4vLyBjb25uZWN0aW9uLmNvbm5lY3QoKGVycikgPT4ge1xyXG4vLyAgIGlmIChlcnIpIHtcclxuLy8gICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNvbm5lY3Rpbmc6ICcgKyBlcnIuc3RhY2spO1xyXG4vLyAgICAgcmV0dXJuO1xyXG4vLyAgIH1cclxuLy8gICBjb25zb2xlLmxvZygnQ29ubmVjdGVkIGFzIGlkICcgKyBjb25uZWN0aW9uLnRocmVhZElkKTtcclxuLy8gfSk7XHJcblxyXG4vLyBtb2R1bGUuZXhwb3J0cyA9IGNvbm5lY3Rpb247IC8vIEV4cG9ydCB0aGUgY29ubmVjdGlvbiBmb3IgdXNlIGluIG90aGVyIGZpbGVzXHJcblxyXG5pbXBvcnQgbXlzcWwgZnJvbSAnbXlzcWwyL3Byb21pc2UnO1xyXG5cclxubGV0IGNvbm5lY3Rpb247XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGJDb25uZWN0KCkge1xyXG4gIGlmICghY29ubmVjdGlvbikge1xyXG4gICAgY29ubmVjdGlvbiA9IGF3YWl0IG15c3FsLmNyZWF0ZUNvbm5lY3Rpb24oe1xyXG4gICAgICBob3N0OiBwcm9jZXNzLmVudi5NWVNRTF9IT1NUIHx8ICdsb2NhbGhvc3QnLFxyXG4gICAgICB1c2VyOiBwcm9jZXNzLmVudi5NWVNRTF9VU0VSIHx8ICdyb290JyxcclxuICAgICAgcGFzc3dvcmQ6IHByb2Nlc3MuZW52Lk1ZU1FMX1BBU1NXT1JEIHx8ICcnLFxyXG4gICAgICBkYXRhYmFzZTogcHJvY2Vzcy5lbnYuTVlTUUxfREFUQUJBU0UgfHwgJ3JhbScsXHJcbiAgICAgIHdhaXRGb3JDb25uZWN0aW9uczogdHJ1ZSxcclxuICAgICAgY29ubmVjdGlvbkxpbWl0OiAxMCxcclxuICAgICAgcXVldWVMaW1pdDogMCxcclxuICAgIH0pO1xyXG4gIH1cclxuICByZXR1cm4gY29ubmVjdGlvbjtcclxufVxyXG5cclxuXHJcblxyXG5cclxuXHJcbi8vIGltcG9ydCBteXNxbCBmcm9tICdteXNxbDIvcHJvbWlzZSc7XHJcblxyXG4vLyBhc3luYyBmdW5jdGlvbiBkYkNvbm5lY3QoKSB7XHJcbi8vICAgdHJ5IHtcclxuLy8gICAgIGNvbnN0IGNvbm5lY3Rpb24gPSBhd2FpdCBteXNxbC5jcmVhdGVDb25uZWN0aW9uKHtcclxuLy8gICAgICAgaG9zdDogcHJvY2Vzcy5lbnYuREJfSE9TVCB8fCAnbG9jYWxob3N0JyxcclxuLy8gICAgICAgdXNlcjogcHJvY2Vzcy5lbnYuREJfVVNFUiB8fCAncm9vdCcsXHJcbi8vICAgICAgIHBhc3N3b3JkOiBwcm9jZXNzLmVudi5EQl9QQVNTV09SRCB8fCAnJyxcclxuLy8gICAgICAgZGF0YWJhc2U6IHByb2Nlc3MuZW52LkRCX05BTUUgfHwgJ3JhbSdcclxuLy8gICAgIH0pO1xyXG4vLyAgICAgY29uc29sZS5sb2coJ0RhdGFiYXNlIGNvbm5lY3RlZCBzdWNjZXNzZnVsbHkhJyk7XHJcbi8vICAgICByZXR1cm4gY29ubmVjdGlvbjtcclxuLy8gICB9IGNhdGNoIChlcnJvcikge1xyXG4vLyAgICAgY29uc29sZS5lcnJvcignRGF0YWJhc2UgY29ubmVjdGlvbiBmYWlsZWQ6JywgZXJyb3IpO1xyXG4vLyAgICAgdGhyb3cgZXJyb3I7IC8vIFJlLXRocm93IHRoZSBlcnJvciBmb3IgZnVydGhlciBoYW5kbGluZ1xyXG4vLyAgIH1cclxuLy8gfVxyXG5cclxuLy8gZXhwb3J0IGRlZmF1bHQgZGJDb25uZWN0OyAvLyBNYWtlIHN1cmUgdGhpcyBsaW5lIGlzIHByZXNlbnRcclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbi8vIGFzeW5jIGZ1bmN0aW9uIHRlc3RDb25uZWN0aW9uKCkge1xyXG4vLyAgIGNvbnN0IGRiID0gYXdhaXQgZGJDb25uZWN0KCk7XHJcbi8vICAgY29uc29sZS5sb2coJ0RhdGFiYXNlIGNvbm5lY3RlZCBzdWNjZXNzZnVsbHkhJyk7XHJcbi8vICAgYXdhaXQgZGIuZW5kKCk7XHJcbi8vIH1cclxuXHJcbi8vIHRlc3RDb25uZWN0aW9uKCkuY2F0Y2goY29uc29sZS5lcnJvcik7XHJcbiJdLCJuYW1lcyI6WyJteXNxbCIsImNvbm5lY3Rpb24iLCJkYkNvbm5lY3QiLCJjcmVhdGVDb25uZWN0aW9uIiwiaG9zdCIsInByb2Nlc3MiLCJlbnYiLCJNWVNRTF9IT1NUIiwidXNlciIsIk1ZU1FMX1VTRVIiLCJwYXNzd29yZCIsIk1ZU1FMX1BBU1NXT1JEIiwiZGF0YWJhc2UiLCJNWVNRTF9EQVRBQkFTRSIsIndhaXRGb3JDb25uZWN0aW9ucyIsImNvbm5lY3Rpb25MaW1pdCIsInF1ZXVlTGltaXQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./lib/dbConnect.js\n");

/***/ }),

/***/ "(api)/./pages/api/appointments.js":
/*!***********************************!*\
  !*** ./pages/api/appointments.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _lib_dbConnect__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/dbConnect */ \"(api)/./lib/dbConnect.js\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_1__);\n// // /pages/api/appointments.js\n// import { dbConnect } from '../../lib/dbConnect';  // Assuming you already have dbConnect\n// // import jwt from 'jsonwebtoken';\n// export default async function handler(req, res) {\n//   if (req.method === 'POST') {\n//     const { doctor, date, time,userId} = req.body;\n//     try {\n//       // Connect to the database\n//       const connection = await dbConnect();\n//       // Insert the appointment into the database\n//       const [result] = await connection.execute(\n//         'INSERT INTO appointments (doctor, date, time,userId) VALUES (?, ?, ?,?)',\n//         [doctor, date, time,userId]\n//       );\n//       // Send a success response\n//       res.status(200).json({ message: 'Appointment booked successfully!' });\n//     } catch (error) {\n//       console.error(error);\n//       res.status(500).json({ message: 'Error booking appointment' });\n//     }\n//   } else {\n//     res.status(405).json({ message: 'Method not allowed' });\n//   }\n// }\n// pages/api/appointments.js\n// import { dbConnect } from '../../../lib/dbConnect';\n// import { dbConnect } from '../../lib/dbConnect';\n// import jwt from 'jsonwebtoken';\n// export default async function handler(req, res) {\n//   const connection = await dbConnect();\n//   if (req.method === 'POST') {\n//     const { doctor, date, time } = req.body;\n//     const token = req.headers.authorization?.split(' ')[1];\n//     if (!token) {\n//       return res.status(401).json({ message: 'Unauthorized' });\n//     }\n//     try {\n//       const decoded = jwt.verify(token, process.env.JWT_SECRET); // Replace with your JWT secret\n//       const userId = decoded.id;\n//       const [result] = await connection.execute(\n//         'INSERT INTO appointments (doctor, date, time, user_id) VALUES (?, ?, ?, ?)',\n//         [doctor, date, time, userId]\n//       );\n//       return res.status(201).json({ message: 'Appointment booked', appointmentId: result.insertId });\n//     } catch (error) {\n//       return res.status(500).json({ message: 'Failed to book appointment', error: error.message });\n//     }\n//   } else {\n//     res.setHeader('Allow', ['POST']);\n//     return res.status(405).end(`Method ${req.method} Not Allowed`);\n//   }\n// }\n// import { dbConnect } from '../../lib/dbConnect';\n// import jwt from 'jsonwebtoken';\n// export default async function handler(req, res) {\n//     if (req.method === 'POST') {\n//         const { doctor, date, time } = req.body;\n//         // Get the token from the headers\n//         const token = req.headers.authorization?.split(' ')[1];\n//         if (!token) {\n//             return res.status(401).json({ error: 'Unauthorized' });\n//         }\n//         try {\n//             // Verify the token to get the user's id\n//             const decoded = jwt.verify(token, process.env.JWT_SECRET);\n//             const userId = decoded.id;\n//             // Connect to the database\n//             await dbConnect();\n//             // Insert the new appointment along with the user_id\n//             const query = 'INSERT INTO appointments (doctor, date, time, user_id) VALUES (?, ?, ?, ?)';\n//             const values = [doctor, date, time, userId];  // Ensure you include the user_id\n//             // Execute the query using db.execute instead of db.query\n//             const [result] = await db.execute(query, values);\n//             if (result.affectedRows > 0) {\n//                 return res.status(201).json({ message: 'Appointment created successfully' });\n//             } else {\n//                 return res.status(500).json({ error: 'Failed to create appointment' });\n//             }\n//         } catch (error) {\n//             console.error('Database Error:', error);\n//             return res.status(500).json({ error: 'An error occurred while creating the appointment' });\n//         }\n//     }\n//     res.setHeader('Allow', ['POST']);\n//     res.status(405).end(`Method ${req.method} Not Allowed`);\n// }\n// import { dbConnect } from '../../lib/dbConnect';\n// export default async function handler(req, res) {\n//     const connection = await dbConnect(); // Connect to MySQL\n//     if (req.method === 'POST') {\n//         const { doctor, date, time, userId } = req.body; // Make sure to include userId for foreign key reference\n//         const query = 'INSERT INTO appointments (doctor, date, time, user_id) VALUES (?, ?, ?, ?)'; // Make sure user_id matches your DB structure\n//         const values = [doctor, date, time, userId]; // Include userId in your values array\n//         try {\n//             await connection.execute(query, values); // Execute the query\n//             res.status(201).json({ message: 'Appointment created successfully' });\n//         } catch (error) {\n//             console.error('Database error:', error); // Log the error for debugging\n//             res.status(500).json({ error: 'Database error' });\n//         } finally {\n//             await connection.end(); // Close the connection\n//         }\n//     } else {\n//         res.setHeader('Allow', ['POST']);\n//         res.status(405).end(`Method ${req.method} Not Allowed`);\n//     }\n// }\n// pages/api/appointments.js\n// import { dbConnect } from '../../lib/dbConnect';\n// import jwt from 'jsonwebtoken';\n// export default async function handler(req, res) {\n//   const connection = await dbConnect();\n//   if (req.method === 'GET') {\n//     const token = req.headers.authorization?.split(' ')[1];\n//     if (!token) {\n//       return res.status(401).json({ message: 'Unauthorized' });\n//     }\n//     try {\n//       const decoded = jwt.verify(token, process.env.JWT_SECRET);\n//       const userId = decoded.id;\n//       // Fetch the user email from the users table\n//       const [userRows] = await connection.execute('SELECT email FROM users WHERE id = ?', [userId]);\n//       const email = userRows[0]?.email;\n//       // Fetch appointments based on the user's email\n//       const [appointments] = await connection.execute('SELECT * FROM appointments WHERE user_email = ?', [email]);\n//       return res.status(200).json({ appointments });\n//     } catch (error) {\n//       return res.status(500).json({ message: 'Failed to fetch appointments', error: error.message });\n//     }\n//   } else {\n//     res.setHeader('Allow', ['GET']);\n//     return res.status(405).end(`Method ${req.method} Not Allowed`);\n//   }\n// }\n// /pages/api/appointments.js\n// import { db } from '../../lib/dbConnect';// Your database connection logic\n// export default async function handler(req, res) {\n//     if (req.method === 'POST') {\n//         const { doctor, date, time, user_id } = req.body;\n//         try {\n//             const result = await db.query(\n//                 'INSERT INTO appointments (doctor, date, time, user_id) VALUES (?, ?, ?, ?)', \n//                 [doctor, date, time, user_id]\n//             );\n//             res.status(200).json({ message: 'Appointment booked successfully!' });\n//         } catch (error) {\n//             res.status(500).json({ message: 'Appointment booking failed.' });\n//         }\n//     }\n// }\n// import { dbConnect } from '../../lib/dbConnect';  // Import the database connection\n// export default async function handler(req, res) {\n//     if (req.method === 'POST') {\n//         const { userId, appointmentDate, details } = req.body;\n//         try {\n//             // Connect to the database\n//             const connection = await dbConnect();\n//             // Insert the appointment into the database\n//             const query = 'INSERT INTO appointments (user_id, appointment_date, details) VALUES (?, ?, ?)';\n//             const values = [userId, appointmentDate, details];\n//             await connection.execute(query, values);\n//             res.status(200).json({ message: 'Appointment created successfully' });\n//         } catch (error) {\n//             console.error('Error creating appointment:', error);\n//             res.status(500).json({ message: 'Internal Server Error' });\n//         }\n//     } else {\n//         res.status(405).json({ message: 'Method Not Allowed' });\n//     }\n// }\n// import { dbConnect } from '../../lib/dbConnect';  // Import the database connection\n// export default async function handler(req, res) {\n//     if (req.method === 'POST') {\n//         const { userId, appointmentDate, details } = req.body;\n//         // Check if any of the required fields are missing\n//         if (!userId || !appointmentDate || !details) {\n//             return res.status(400).json({ message: 'Missing required fields' });\n//         }\n//         try {\n//             // Connect to the database\n//             const connection = await dbConnect();\n//             // Insert the appointment into the database\n//             const query = 'INSERT INTO appointments (doctor,appointment_date,time,) VALUES (?, ?, ?)';\n//             const values = [userId, appointmentDate, details];\n//             await connection.execute(query, values);\n//             res.status(200).json({ message: 'Appointment created successfully' });\n//         } catch (error) {\n//             console.error('Error creating appointment:', error);\n//             res.status(500).json({ message: 'Internal Server Error' });\n//         }\n//     } else {\n//         res.status(405).json({ message: 'Method Not Allowed' });\n//     }\n// }\n// import { dbConnect } from '../../lib/dbConnect'; // Import the database connection\n// export default async function handler(req, res) {\n//     if (req.method === 'POST') {\n//         const { userId, appointmentDate, time, doctor } = req.body;\n//         // Check if any of the required fields are missing\n//         if (!userId || !appointmentDate || !time || !doctor) {\n//             return res.status(400).json({ message: 'Missing required fields' });\n//         }\n//         try {\n//             // Connect to the database\n//             const connection = await dbConnect();\n//             // Insert the appointment into the database\n//             const query = 'INSERT INTO appointments (user_id, appointment_date, time, doctor) VALUES (?, ?, ?, ?)';\n//             const values = [userId, appointmentDate, time, doctor];\n//             const [result] = await connection.execute(query, values);\n//             res.status(200).json({\n//                 id: result.insertId,\n//                 user_id: userId,\n//                 appointment_date: appointmentDate,\n//                 time,\n//                 doctor,\n//                 message: 'Appointment created successfully'\n//             });\n//         } catch (error) {\n//             console.error('Error creating appointment:', error);\n//             res.status(500).json({ message: 'Internal Server Error' });\n//         }\n//     } else {\n//         res.status(405).json({ message: 'Method Not Allowed' });\n//     }\n// }\n// import { dbConnect } from '../../lib/dbConnect'; // Import the database connection\n// export default async function handler(req, res) {\n//     if (req.method === 'POST') {\n//         const { userId, appointmentDate, time, doctor } = req.body;\n//         // Check if any of the required fields are missing\n//         if (!userId || !appointmentDate || !time || !doctor) {\n//             return res.status(400).json({ message: 'Missing required fields' });\n//         }\n//         try {\n//             // Connect to the database\n//             const connection = await dbConnect();\n//             // Check if the user exists\n//             const checkUserQuery = 'SELECT * FROM users WHERE id = ?';\n//             const [user] = await connection.execute(checkUserQuery, [userId]);\n//             if (user.length === 0) {\n//                 return res.status(400).json({ message: 'User ID does not exist' });\n//             }\n//             // Insert the appointment into the database\n//             const query = 'INSERT INTO appointments (user_id, appointment_date, time, doctor) VALUES (?, ?, ?, ?)';\n//             const values = [userId, appointmentDate, time, doctor];\n//             const [result] = await connection.execute(query, values);\n//             res.status(200).json({\n//                 id: result.insertId,\n//                 user_id: userId,\n//                 appointment_date: appointmentDate,\n//                 time,\n//                 doctor,\n//                 message: 'Appointment created successfully'\n//             });\n//         } catch (error) {\n//             console.error('Error creating appointment:', error);\n//             res.status(500).json({ message: 'Internal Server Error' });\n//         }\n//     } else {\n//         res.status(405).json({ message: 'Method Not Allowed' });\n//     }\n// }\n\n\nasync function handler(req, res) {\n    if (req.method === \"POST\") {\n        const authHeader = req.headers.authorization;\n        const token = authHeader?.split(\" \")[1];\n        if (!token) {\n            return res.status(401).json({\n                error: \"Unauthorized: Token missing\"\n            });\n        }\n        try {\n            const decoded = jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default().verify(token, process.env.JWT_SECRET);\n            const userId = decoded.id; // Assuming user ID is part of the token payload\n            const { appointment_date, time, doctor } = req.body; // Get data from request body\n            // Log data for debugging\n            console.log(\"Creating appointment:\", {\n                userId,\n                appointment_date,\n                time,\n                doctor\n            });\n            // Check for missing fields\n            if (!appointment_date || !time || !doctor) {\n                return res.status(400).json({\n                    error: \"Missing required fields: appointment_date, time, doctor\"\n                });\n            }\n            const connection = await (0,_lib_dbConnect__WEBPACK_IMPORTED_MODULE_0__.dbConnect)();\n            await connection.execute(\"INSERT INTO appointments (user_id, appointment_date, time, doctor) VALUES (?, ?, ?, ?)\", [\n                userId,\n                appointment_date,\n                time,\n                doctor\n            ]);\n            await connection.end();\n            res.status(201).json({\n                message: \"Appointment created successfully\"\n            });\n        } catch (error) {\n            console.error(\"Error creating appointment:\", error);\n            res.status(500).json({\n                error: \"Error creating appointment: \" + error.message\n            });\n        }\n    } else {\n        res.setHeader(\"Allow\", [\n            \"POST\"\n        ]);\n        return res.status(405).json({\n            error: `Method ${req.method} Not Allowed`\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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ZW1lbnQvLi9wYWdlcy9hcGkvYXBwb2ludG1lbnRzLmpzP2MyZmIiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gLy8gL3BhZ2VzL2FwaS9hcHBvaW50bWVudHMuanNcclxuLy8gaW1wb3J0IHsgZGJDb25uZWN0IH0gZnJvbSAnLi4vLi4vbGliL2RiQ29ubmVjdCc7ICAvLyBBc3N1bWluZyB5b3UgYWxyZWFkeSBoYXZlIGRiQ29ubmVjdFxyXG4vLyAvLyBpbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbic7XHJcbi8vIGV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxLCByZXMpIHtcclxuLy8gICBpZiAocmVxLm1ldGhvZCA9PT0gJ1BPU1QnKSB7XHJcbi8vICAgICBjb25zdCB7IGRvY3RvciwgZGF0ZSwgdGltZSx1c2VySWR9ID0gcmVxLmJvZHk7XHJcblxyXG4vLyAgICAgdHJ5IHtcclxuLy8gICAgICAgLy8gQ29ubmVjdCB0byB0aGUgZGF0YWJhc2VcclxuLy8gICAgICAgY29uc3QgY29ubmVjdGlvbiA9IGF3YWl0IGRiQ29ubmVjdCgpO1xyXG5cclxuLy8gICAgICAgLy8gSW5zZXJ0IHRoZSBhcHBvaW50bWVudCBpbnRvIHRoZSBkYXRhYmFzZVxyXG4vLyAgICAgICBjb25zdCBbcmVzdWx0XSA9IGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZShcclxuLy8gICAgICAgICAnSU5TRVJUIElOVE8gYXBwb2ludG1lbnRzIChkb2N0b3IsIGRhdGUsIHRpbWUsdXNlcklkKSBWQUxVRVMgKD8sID8sID8sPyknLFxyXG4vLyAgICAgICAgIFtkb2N0b3IsIGRhdGUsIHRpbWUsdXNlcklkXVxyXG4vLyAgICAgICApO1xyXG5cclxuLy8gICAgICAgLy8gU2VuZCBhIHN1Y2Nlc3MgcmVzcG9uc2VcclxuLy8gICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBtZXNzYWdlOiAnQXBwb2ludG1lbnQgYm9va2VkIHN1Y2Nlc3NmdWxseSEnIH0pO1xyXG4vLyAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuLy8gICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XHJcbi8vICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogJ0Vycm9yIGJvb2tpbmcgYXBwb2ludG1lbnQnIH0pO1xyXG4vLyAgICAgfVxyXG4vLyAgIH0gZWxzZSB7XHJcbi8vICAgICByZXMuc3RhdHVzKDQwNSkuanNvbih7IG1lc3NhZ2U6ICdNZXRob2Qgbm90IGFsbG93ZWQnIH0pO1xyXG4vLyAgIH1cclxuLy8gfVxyXG5cclxuLy8gcGFnZXMvYXBpL2FwcG9pbnRtZW50cy5qc1xyXG4vLyBpbXBvcnQgeyBkYkNvbm5lY3QgfSBmcm9tICcuLi8uLi8uLi9saWIvZGJDb25uZWN0JztcclxuLy8gaW1wb3J0IHsgZGJDb25uZWN0IH0gZnJvbSAnLi4vLi4vbGliL2RiQ29ubmVjdCc7XHJcblxyXG4vLyBpbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbic7XHJcblxyXG4vLyBleHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKHJlcSwgcmVzKSB7XHJcbi8vICAgY29uc3QgY29ubmVjdGlvbiA9IGF3YWl0IGRiQ29ubmVjdCgpO1xyXG5cclxuLy8gICBpZiAocmVxLm1ldGhvZCA9PT0gJ1BPU1QnKSB7XHJcbi8vICAgICBjb25zdCB7IGRvY3RvciwgZGF0ZSwgdGltZSB9ID0gcmVxLmJvZHk7XHJcbi8vICAgICBjb25zdCB0b2tlbiA9IHJlcS5oZWFkZXJzLmF1dGhvcml6YXRpb24/LnNwbGl0KCcgJylbMV07XHJcbiAgICBcclxuLy8gICAgIGlmICghdG9rZW4pIHtcclxuLy8gICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogJ1VuYXV0aG9yaXplZCcgfSk7XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgdHJ5IHtcclxuLy8gICAgICAgY29uc3QgZGVjb2RlZCA9IGp3dC52ZXJpZnkodG9rZW4sIHByb2Nlc3MuZW52LkpXVF9TRUNSRVQpOyAvLyBSZXBsYWNlIHdpdGggeW91ciBKV1Qgc2VjcmV0XHJcbi8vICAgICAgIGNvbnN0IHVzZXJJZCA9IGRlY29kZWQuaWQ7XHJcblxyXG4vLyAgICAgICBjb25zdCBbcmVzdWx0XSA9IGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZShcclxuLy8gICAgICAgICAnSU5TRVJUIElOVE8gYXBwb2ludG1lbnRzIChkb2N0b3IsIGRhdGUsIHRpbWUsIHVzZXJfaWQpIFZBTFVFUyAoPywgPywgPywgPyknLFxyXG4vLyAgICAgICAgIFtkb2N0b3IsIGRhdGUsIHRpbWUsIHVzZXJJZF1cclxuLy8gICAgICAgKTtcclxuXHJcbi8vICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMSkuanNvbih7IG1lc3NhZ2U6ICdBcHBvaW50bWVudCBib29rZWQnLCBhcHBvaW50bWVudElkOiByZXN1bHQuaW5zZXJ0SWQgfSk7XHJcbi8vICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4vLyAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBtZXNzYWdlOiAnRmFpbGVkIHRvIGJvb2sgYXBwb2ludG1lbnQnLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9KTtcclxuLy8gICAgIH1cclxuLy8gICB9IGVsc2Uge1xyXG4vLyAgICAgcmVzLnNldEhlYWRlcignQWxsb3cnLCBbJ1BPU1QnXSk7XHJcbi8vICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDUpLmVuZChgTWV0aG9kICR7cmVxLm1ldGhvZH0gTm90IEFsbG93ZWRgKTtcclxuLy8gICB9XHJcbi8vIH1cclxuXHJcblxyXG5cclxuLy8gaW1wb3J0IHsgZGJDb25uZWN0IH0gZnJvbSAnLi4vLi4vbGliL2RiQ29ubmVjdCc7XHJcbi8vIGltcG9ydCBqd3QgZnJvbSAnanNvbndlYnRva2VuJztcclxuXHJcbi8vIGV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxLCByZXMpIHtcclxuLy8gICAgIGlmIChyZXEubWV0aG9kID09PSAnUE9TVCcpIHtcclxuLy8gICAgICAgICBjb25zdCB7IGRvY3RvciwgZGF0ZSwgdGltZSB9ID0gcmVxLmJvZHk7XHJcblxyXG4vLyAgICAgICAgIC8vIEdldCB0aGUgdG9rZW4gZnJvbSB0aGUgaGVhZGVyc1xyXG4vLyAgICAgICAgIGNvbnN0IHRva2VuID0gcmVxLmhlYWRlcnMuYXV0aG9yaXphdGlvbj8uc3BsaXQoJyAnKVsxXTtcclxuICAgICAgICBcclxuLy8gICAgICAgICBpZiAoIXRva2VuKSB7XHJcbi8vICAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IGVycm9yOiAnVW5hdXRob3JpemVkJyB9KTtcclxuLy8gICAgICAgICB9XHJcblxyXG4vLyAgICAgICAgIHRyeSB7XHJcbi8vICAgICAgICAgICAgIC8vIFZlcmlmeSB0aGUgdG9rZW4gdG8gZ2V0IHRoZSB1c2VyJ3MgaWRcclxuLy8gICAgICAgICAgICAgY29uc3QgZGVjb2RlZCA9IGp3dC52ZXJpZnkodG9rZW4sIHByb2Nlc3MuZW52LkpXVF9TRUNSRVQpO1xyXG4vLyAgICAgICAgICAgICBjb25zdCB1c2VySWQgPSBkZWNvZGVkLmlkO1xyXG5cclxuLy8gICAgICAgICAgICAgLy8gQ29ubmVjdCB0byB0aGUgZGF0YWJhc2VcclxuLy8gICAgICAgICAgICAgYXdhaXQgZGJDb25uZWN0KCk7XHJcblxyXG4vLyAgICAgICAgICAgICAvLyBJbnNlcnQgdGhlIG5ldyBhcHBvaW50bWVudCBhbG9uZyB3aXRoIHRoZSB1c2VyX2lkXHJcbi8vICAgICAgICAgICAgIGNvbnN0IHF1ZXJ5ID0gJ0lOU0VSVCBJTlRPIGFwcG9pbnRtZW50cyAoZG9jdG9yLCBkYXRlLCB0aW1lLCB1c2VyX2lkKSBWQUxVRVMgKD8sID8sID8sID8pJztcclxuLy8gICAgICAgICAgICAgY29uc3QgdmFsdWVzID0gW2RvY3RvciwgZGF0ZSwgdGltZSwgdXNlcklkXTsgIC8vIEVuc3VyZSB5b3UgaW5jbHVkZSB0aGUgdXNlcl9pZFxyXG5cclxuLy8gICAgICAgICAgICAgLy8gRXhlY3V0ZSB0aGUgcXVlcnkgdXNpbmcgZGIuZXhlY3V0ZSBpbnN0ZWFkIG9mIGRiLnF1ZXJ5XHJcbi8vICAgICAgICAgICAgIGNvbnN0IFtyZXN1bHRdID0gYXdhaXQgZGIuZXhlY3V0ZShxdWVyeSwgdmFsdWVzKTtcclxuXHJcbi8vICAgICAgICAgICAgIGlmIChyZXN1bHQuYWZmZWN0ZWRSb3dzID4gMCkge1xyXG4vLyAgICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAxKS5qc29uKHsgbWVzc2FnZTogJ0FwcG9pbnRtZW50IGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5JyB9KTtcclxuLy8gICAgICAgICAgICAgfSBlbHNlIHtcclxuLy8gICAgICAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiAnRmFpbGVkIHRvIGNyZWF0ZSBhcHBvaW50bWVudCcgfSk7XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4vLyAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdEYXRhYmFzZSBFcnJvcjonLCBlcnJvcik7XHJcbi8vICAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiAnQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgY3JlYXRpbmcgdGhlIGFwcG9pbnRtZW50JyB9KTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgcmVzLnNldEhlYWRlcignQWxsb3cnLCBbJ1BPU1QnXSk7XHJcbi8vICAgICByZXMuc3RhdHVzKDQwNSkuZW5kKGBNZXRob2QgJHtyZXEubWV0aG9kfSBOb3QgQWxsb3dlZGApO1xyXG4vLyB9XHJcblxyXG5cclxuLy8gaW1wb3J0IHsgZGJDb25uZWN0IH0gZnJvbSAnLi4vLi4vbGliL2RiQ29ubmVjdCc7XHJcblxyXG4vLyBleHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKHJlcSwgcmVzKSB7XHJcbi8vICAgICBjb25zdCBjb25uZWN0aW9uID0gYXdhaXQgZGJDb25uZWN0KCk7IC8vIENvbm5lY3QgdG8gTXlTUUxcclxuXHJcbi8vICAgICBpZiAocmVxLm1ldGhvZCA9PT0gJ1BPU1QnKSB7XHJcbi8vICAgICAgICAgY29uc3QgeyBkb2N0b3IsIGRhdGUsIHRpbWUsIHVzZXJJZCB9ID0gcmVxLmJvZHk7IC8vIE1ha2Ugc3VyZSB0byBpbmNsdWRlIHVzZXJJZCBmb3IgZm9yZWlnbiBrZXkgcmVmZXJlbmNlXHJcblxyXG4vLyAgICAgICAgIGNvbnN0IHF1ZXJ5ID0gJ0lOU0VSVCBJTlRPIGFwcG9pbnRtZW50cyAoZG9jdG9yLCBkYXRlLCB0aW1lLCB1c2VyX2lkKSBWQUxVRVMgKD8sID8sID8sID8pJzsgLy8gTWFrZSBzdXJlIHVzZXJfaWQgbWF0Y2hlcyB5b3VyIERCIHN0cnVjdHVyZVxyXG4vLyAgICAgICAgIGNvbnN0IHZhbHVlcyA9IFtkb2N0b3IsIGRhdGUsIHRpbWUsIHVzZXJJZF07IC8vIEluY2x1ZGUgdXNlcklkIGluIHlvdXIgdmFsdWVzIGFycmF5XHJcblxyXG4vLyAgICAgICAgIHRyeSB7XHJcbi8vICAgICAgICAgICAgIGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZShxdWVyeSwgdmFsdWVzKTsgLy8gRXhlY3V0ZSB0aGUgcXVlcnlcclxuLy8gICAgICAgICAgICAgcmVzLnN0YXR1cygyMDEpLmpzb24oeyBtZXNzYWdlOiAnQXBwb2ludG1lbnQgY3JlYXRlZCBzdWNjZXNzZnVsbHknIH0pO1xyXG4vLyAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbi8vICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0RhdGFiYXNlIGVycm9yOicsIGVycm9yKTsgLy8gTG9nIHRoZSBlcnJvciBmb3IgZGVidWdnaW5nXHJcbi8vICAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICdEYXRhYmFzZSBlcnJvcicgfSk7XHJcbi8vICAgICAgICAgfSBmaW5hbGx5IHtcclxuLy8gICAgICAgICAgICAgYXdhaXQgY29ubmVjdGlvbi5lbmQoKTsgLy8gQ2xvc2UgdGhlIGNvbm5lY3Rpb25cclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9IGVsc2Uge1xyXG4vLyAgICAgICAgIHJlcy5zZXRIZWFkZXIoJ0FsbG93JywgWydQT1NUJ10pO1xyXG4vLyAgICAgICAgIHJlcy5zdGF0dXMoNDA1KS5lbmQoYE1ldGhvZCAke3JlcS5tZXRob2R9IE5vdCBBbGxvd2VkYCk7XHJcbi8vICAgICB9XHJcbi8vIH1cclxuXHJcblxyXG4vLyBwYWdlcy9hcGkvYXBwb2ludG1lbnRzLmpzXHJcbi8vIGltcG9ydCB7IGRiQ29ubmVjdCB9IGZyb20gJy4uLy4uL2xpYi9kYkNvbm5lY3QnO1xyXG4vLyBpbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbic7XHJcblxyXG4vLyBleHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKHJlcSwgcmVzKSB7XHJcbi8vICAgY29uc3QgY29ubmVjdGlvbiA9IGF3YWl0IGRiQ29ubmVjdCgpO1xyXG5cclxuLy8gICBpZiAocmVxLm1ldGhvZCA9PT0gJ0dFVCcpIHtcclxuLy8gICAgIGNvbnN0IHRva2VuID0gcmVxLmhlYWRlcnMuYXV0aG9yaXphdGlvbj8uc3BsaXQoJyAnKVsxXTtcclxuXHJcbi8vICAgICBpZiAoIXRva2VuKSB7XHJcbi8vICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6ICdVbmF1dGhvcml6ZWQnIH0pO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIHRyeSB7XHJcbi8vICAgICAgIGNvbnN0IGRlY29kZWQgPSBqd3QudmVyaWZ5KHRva2VuLCBwcm9jZXNzLmVudi5KV1RfU0VDUkVUKTtcclxuLy8gICAgICAgY29uc3QgdXNlcklkID0gZGVjb2RlZC5pZDtcclxuXHJcbi8vICAgICAgIC8vIEZldGNoIHRoZSB1c2VyIGVtYWlsIGZyb20gdGhlIHVzZXJzIHRhYmxlXHJcbi8vICAgICAgIGNvbnN0IFt1c2VyUm93c10gPSBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUoJ1NFTEVDVCBlbWFpbCBGUk9NIHVzZXJzIFdIRVJFIGlkID0gPycsIFt1c2VySWRdKTtcclxuLy8gICAgICAgY29uc3QgZW1haWwgPSB1c2VyUm93c1swXT8uZW1haWw7XHJcblxyXG4vLyAgICAgICAvLyBGZXRjaCBhcHBvaW50bWVudHMgYmFzZWQgb24gdGhlIHVzZXIncyBlbWFpbFxyXG4vLyAgICAgICBjb25zdCBbYXBwb2ludG1lbnRzXSA9IGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZSgnU0VMRUNUICogRlJPTSBhcHBvaW50bWVudHMgV0hFUkUgdXNlcl9lbWFpbCA9ID8nLCBbZW1haWxdKTtcclxuXHJcbi8vICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7IGFwcG9pbnRtZW50cyB9KTtcclxuLy8gICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbi8vICAgICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IG1lc3NhZ2U6ICdGYWlsZWQgdG8gZmV0Y2ggYXBwb2ludG1lbnRzJywgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfSk7XHJcbi8vICAgICB9XHJcbi8vICAgfSBlbHNlIHtcclxuLy8gICAgIHJlcy5zZXRIZWFkZXIoJ0FsbG93JywgWydHRVQnXSk7XHJcbi8vICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDUpLmVuZChgTWV0aG9kICR7cmVxLm1ldGhvZH0gTm90IEFsbG93ZWRgKTtcclxuLy8gICB9XHJcbi8vIH1cclxuXHJcblxyXG5cclxuXHJcblxyXG4vLyAvcGFnZXMvYXBpL2FwcG9pbnRtZW50cy5qc1xyXG4vLyBpbXBvcnQgeyBkYiB9IGZyb20gJy4uLy4uL2xpYi9kYkNvbm5lY3QnOy8vIFlvdXIgZGF0YWJhc2UgY29ubmVjdGlvbiBsb2dpY1xyXG5cclxuLy8gZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXEsIHJlcykge1xyXG4vLyAgICAgaWYgKHJlcS5tZXRob2QgPT09ICdQT1NUJykge1xyXG4vLyAgICAgICAgIGNvbnN0IHsgZG9jdG9yLCBkYXRlLCB0aW1lLCB1c2VyX2lkIH0gPSByZXEuYm9keTtcclxuXHJcbi8vICAgICAgICAgdHJ5IHtcclxuLy8gICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZGIucXVlcnkoXHJcbi8vICAgICAgICAgICAgICAgICAnSU5TRVJUIElOVE8gYXBwb2ludG1lbnRzIChkb2N0b3IsIGRhdGUsIHRpbWUsIHVzZXJfaWQpIFZBTFVFUyAoPywgPywgPywgPyknLCBcclxuLy8gICAgICAgICAgICAgICAgIFtkb2N0b3IsIGRhdGUsIHRpbWUsIHVzZXJfaWRdXHJcbi8vICAgICAgICAgICAgICk7XHJcbi8vICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgbWVzc2FnZTogJ0FwcG9pbnRtZW50IGJvb2tlZCBzdWNjZXNzZnVsbHkhJyB9KTtcclxuLy8gICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4vLyAgICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IG1lc3NhZ2U6ICdBcHBvaW50bWVudCBib29raW5nIGZhaWxlZC4nIH0pO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgIH1cclxuLy8gfVxyXG5cclxuXHJcblxyXG4vLyBpbXBvcnQgeyBkYkNvbm5lY3QgfSBmcm9tICcuLi8uLi9saWIvZGJDb25uZWN0JzsgIC8vIEltcG9ydCB0aGUgZGF0YWJhc2UgY29ubmVjdGlvblxyXG5cclxuLy8gZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXEsIHJlcykge1xyXG4vLyAgICAgaWYgKHJlcS5tZXRob2QgPT09ICdQT1NUJykge1xyXG4vLyAgICAgICAgIGNvbnN0IHsgdXNlcklkLCBhcHBvaW50bWVudERhdGUsIGRldGFpbHMgfSA9IHJlcS5ib2R5O1xyXG5cclxuLy8gICAgICAgICB0cnkge1xyXG4vLyAgICAgICAgICAgICAvLyBDb25uZWN0IHRvIHRoZSBkYXRhYmFzZVxyXG4vLyAgICAgICAgICAgICBjb25zdCBjb25uZWN0aW9uID0gYXdhaXQgZGJDb25uZWN0KCk7XHJcblxyXG4vLyAgICAgICAgICAgICAvLyBJbnNlcnQgdGhlIGFwcG9pbnRtZW50IGludG8gdGhlIGRhdGFiYXNlXHJcbi8vICAgICAgICAgICAgIGNvbnN0IHF1ZXJ5ID0gJ0lOU0VSVCBJTlRPIGFwcG9pbnRtZW50cyAodXNlcl9pZCwgYXBwb2ludG1lbnRfZGF0ZSwgZGV0YWlscykgVkFMVUVTICg/LCA/LCA/KSc7XHJcbi8vICAgICAgICAgICAgIGNvbnN0IHZhbHVlcyA9IFt1c2VySWQsIGFwcG9pbnRtZW50RGF0ZSwgZGV0YWlsc107XHJcblxyXG4vLyAgICAgICAgICAgICBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUocXVlcnksIHZhbHVlcyk7XHJcblxyXG4vLyAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IG1lc3NhZ2U6ICdBcHBvaW50bWVudCBjcmVhdGVkIHN1Y2Nlc3NmdWxseScgfSk7XHJcbi8vICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuLy8gICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY3JlYXRpbmcgYXBwb2ludG1lbnQ6JywgZXJyb3IpO1xyXG4vLyAgICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IG1lc3NhZ2U6ICdJbnRlcm5hbCBTZXJ2ZXIgRXJyb3InIH0pO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgIH0gZWxzZSB7XHJcbi8vICAgICAgICAgcmVzLnN0YXR1cyg0MDUpLmpzb24oeyBtZXNzYWdlOiAnTWV0aG9kIE5vdCBBbGxvd2VkJyB9KTtcclxuLy8gICAgIH1cclxuLy8gfVxyXG5cclxuXHJcbi8vIGltcG9ydCB7IGRiQ29ubmVjdCB9IGZyb20gJy4uLy4uL2xpYi9kYkNvbm5lY3QnOyAgLy8gSW1wb3J0IHRoZSBkYXRhYmFzZSBjb25uZWN0aW9uXHJcblxyXG4vLyBleHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKHJlcSwgcmVzKSB7XHJcbi8vICAgICBpZiAocmVxLm1ldGhvZCA9PT0gJ1BPU1QnKSB7XHJcbi8vICAgICAgICAgY29uc3QgeyB1c2VySWQsIGFwcG9pbnRtZW50RGF0ZSwgZGV0YWlscyB9ID0gcmVxLmJvZHk7XHJcblxyXG4vLyAgICAgICAgIC8vIENoZWNrIGlmIGFueSBvZiB0aGUgcmVxdWlyZWQgZmllbGRzIGFyZSBtaXNzaW5nXHJcbi8vICAgICAgICAgaWYgKCF1c2VySWQgfHwgIWFwcG9pbnRtZW50RGF0ZSB8fCAhZGV0YWlscykge1xyXG4vLyAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiAnTWlzc2luZyByZXF1aXJlZCBmaWVsZHMnIH0pO1xyXG4vLyAgICAgICAgIH1cclxuXHJcbi8vICAgICAgICAgdHJ5IHtcclxuLy8gICAgICAgICAgICAgLy8gQ29ubmVjdCB0byB0aGUgZGF0YWJhc2VcclxuLy8gICAgICAgICAgICAgY29uc3QgY29ubmVjdGlvbiA9IGF3YWl0IGRiQ29ubmVjdCgpO1xyXG5cclxuLy8gICAgICAgICAgICAgLy8gSW5zZXJ0IHRoZSBhcHBvaW50bWVudCBpbnRvIHRoZSBkYXRhYmFzZVxyXG4vLyAgICAgICAgICAgICBjb25zdCBxdWVyeSA9ICdJTlNFUlQgSU5UTyBhcHBvaW50bWVudHMgKGRvY3RvcixhcHBvaW50bWVudF9kYXRlLHRpbWUsKSBWQUxVRVMgKD8sID8sID8pJztcclxuLy8gICAgICAgICAgICAgY29uc3QgdmFsdWVzID0gW3VzZXJJZCwgYXBwb2ludG1lbnREYXRlLCBkZXRhaWxzXTtcclxuXHJcbi8vICAgICAgICAgICAgIGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZShxdWVyeSwgdmFsdWVzKTtcclxuXHJcbi8vICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgbWVzc2FnZTogJ0FwcG9pbnRtZW50IGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5JyB9KTtcclxuLy8gICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4vLyAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjcmVhdGluZyBhcHBvaW50bWVudDonLCBlcnJvcik7XHJcbi8vICAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogJ0ludGVybmFsIFNlcnZlciBFcnJvcicgfSk7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgfSBlbHNlIHtcclxuLy8gICAgICAgICByZXMuc3RhdHVzKDQwNSkuanNvbih7IG1lc3NhZ2U6ICdNZXRob2QgTm90IEFsbG93ZWQnIH0pO1xyXG4vLyAgICAgfVxyXG4vLyB9XHJcblxyXG5cclxuLy8gaW1wb3J0IHsgZGJDb25uZWN0IH0gZnJvbSAnLi4vLi4vbGliL2RiQ29ubmVjdCc7IC8vIEltcG9ydCB0aGUgZGF0YWJhc2UgY29ubmVjdGlvblxyXG5cclxuLy8gZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXEsIHJlcykge1xyXG4vLyAgICAgaWYgKHJlcS5tZXRob2QgPT09ICdQT1NUJykge1xyXG4vLyAgICAgICAgIGNvbnN0IHsgdXNlcklkLCBhcHBvaW50bWVudERhdGUsIHRpbWUsIGRvY3RvciB9ID0gcmVxLmJvZHk7XHJcblxyXG4vLyAgICAgICAgIC8vIENoZWNrIGlmIGFueSBvZiB0aGUgcmVxdWlyZWQgZmllbGRzIGFyZSBtaXNzaW5nXHJcbi8vICAgICAgICAgaWYgKCF1c2VySWQgfHwgIWFwcG9pbnRtZW50RGF0ZSB8fCAhdGltZSB8fCAhZG9jdG9yKSB7XHJcbi8vICAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6ICdNaXNzaW5nIHJlcXVpcmVkIGZpZWxkcycgfSk7XHJcbi8vICAgICAgICAgfVxyXG5cclxuLy8gICAgICAgICB0cnkge1xyXG4vLyAgICAgICAgICAgICAvLyBDb25uZWN0IHRvIHRoZSBkYXRhYmFzZVxyXG4vLyAgICAgICAgICAgICBjb25zdCBjb25uZWN0aW9uID0gYXdhaXQgZGJDb25uZWN0KCk7XHJcblxyXG4vLyAgICAgICAgICAgICAvLyBJbnNlcnQgdGhlIGFwcG9pbnRtZW50IGludG8gdGhlIGRhdGFiYXNlXHJcbi8vICAgICAgICAgICAgIGNvbnN0IHF1ZXJ5ID0gJ0lOU0VSVCBJTlRPIGFwcG9pbnRtZW50cyAodXNlcl9pZCwgYXBwb2ludG1lbnRfZGF0ZSwgdGltZSwgZG9jdG9yKSBWQUxVRVMgKD8sID8sID8sID8pJztcclxuLy8gICAgICAgICAgICAgY29uc3QgdmFsdWVzID0gW3VzZXJJZCwgYXBwb2ludG1lbnREYXRlLCB0aW1lLCBkb2N0b3JdO1xyXG5cclxuLy8gICAgICAgICAgICAgY29uc3QgW3Jlc3VsdF0gPSBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUocXVlcnksIHZhbHVlcyk7XHJcblxyXG4vLyAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbi8vICAgICAgICAgICAgICAgICBpZDogcmVzdWx0Lmluc2VydElkLFxyXG4vLyAgICAgICAgICAgICAgICAgdXNlcl9pZDogdXNlcklkLFxyXG4vLyAgICAgICAgICAgICAgICAgYXBwb2ludG1lbnRfZGF0ZTogYXBwb2ludG1lbnREYXRlLFxyXG4vLyAgICAgICAgICAgICAgICAgdGltZSxcclxuLy8gICAgICAgICAgICAgICAgIGRvY3RvcixcclxuLy8gICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdBcHBvaW50bWVudCBjcmVhdGVkIHN1Y2Nlc3NmdWxseSdcclxuLy8gICAgICAgICAgICAgfSk7XHJcbi8vICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuLy8gICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY3JlYXRpbmcgYXBwb2ludG1lbnQ6JywgZXJyb3IpO1xyXG4vLyAgICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IG1lc3NhZ2U6ICdJbnRlcm5hbCBTZXJ2ZXIgRXJyb3InIH0pO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgIH0gZWxzZSB7XHJcbi8vICAgICAgICAgcmVzLnN0YXR1cyg0MDUpLmpzb24oeyBtZXNzYWdlOiAnTWV0aG9kIE5vdCBBbGxvd2VkJyB9KTtcclxuLy8gICAgIH1cclxuLy8gfVxyXG5cclxuXHJcblxyXG4vLyBpbXBvcnQgeyBkYkNvbm5lY3QgfSBmcm9tICcuLi8uLi9saWIvZGJDb25uZWN0JzsgLy8gSW1wb3J0IHRoZSBkYXRhYmFzZSBjb25uZWN0aW9uXHJcblxyXG4vLyBleHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKHJlcSwgcmVzKSB7XHJcbi8vICAgICBpZiAocmVxLm1ldGhvZCA9PT0gJ1BPU1QnKSB7XHJcbi8vICAgICAgICAgY29uc3QgeyB1c2VySWQsIGFwcG9pbnRtZW50RGF0ZSwgdGltZSwgZG9jdG9yIH0gPSByZXEuYm9keTtcclxuXHJcbi8vICAgICAgICAgLy8gQ2hlY2sgaWYgYW55IG9mIHRoZSByZXF1aXJlZCBmaWVsZHMgYXJlIG1pc3NpbmdcclxuLy8gICAgICAgICBpZiAoIXVzZXJJZCB8fCAhYXBwb2ludG1lbnREYXRlIHx8ICF0aW1lIHx8ICFkb2N0b3IpIHtcclxuLy8gICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogJ01pc3NpbmcgcmVxdWlyZWQgZmllbGRzJyB9KTtcclxuLy8gICAgICAgICB9XHJcblxyXG4vLyAgICAgICAgIHRyeSB7XHJcbi8vICAgICAgICAgICAgIC8vIENvbm5lY3QgdG8gdGhlIGRhdGFiYXNlXHJcbi8vICAgICAgICAgICAgIGNvbnN0IGNvbm5lY3Rpb24gPSBhd2FpdCBkYkNvbm5lY3QoKTtcclxuXHJcbi8vICAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSB1c2VyIGV4aXN0c1xyXG4vLyAgICAgICAgICAgICBjb25zdCBjaGVja1VzZXJRdWVyeSA9ICdTRUxFQ1QgKiBGUk9NIHVzZXJzIFdIRVJFIGlkID0gPyc7XHJcbi8vICAgICAgICAgICAgIGNvbnN0IFt1c2VyXSA9IGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZShjaGVja1VzZXJRdWVyeSwgW3VzZXJJZF0pO1xyXG5cclxuLy8gICAgICAgICAgICAgaWYgKHVzZXIubGVuZ3RoID09PSAwKSB7XHJcbi8vICAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiAnVXNlciBJRCBkb2VzIG5vdCBleGlzdCcgfSk7XHJcbi8vICAgICAgICAgICAgIH1cclxuXHJcbi8vICAgICAgICAgICAgIC8vIEluc2VydCB0aGUgYXBwb2ludG1lbnQgaW50byB0aGUgZGF0YWJhc2VcclxuLy8gICAgICAgICAgICAgY29uc3QgcXVlcnkgPSAnSU5TRVJUIElOVE8gYXBwb2ludG1lbnRzICh1c2VyX2lkLCBhcHBvaW50bWVudF9kYXRlLCB0aW1lLCBkb2N0b3IpIFZBTFVFUyAoPywgPywgPywgPyknO1xyXG4vLyAgICAgICAgICAgICBjb25zdCB2YWx1ZXMgPSBbdXNlcklkLCBhcHBvaW50bWVudERhdGUsIHRpbWUsIGRvY3Rvcl07XHJcblxyXG4vLyAgICAgICAgICAgICBjb25zdCBbcmVzdWx0XSA9IGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZShxdWVyeSwgdmFsdWVzKTtcclxuXHJcbi8vICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuLy8gICAgICAgICAgICAgICAgIGlkOiByZXN1bHQuaW5zZXJ0SWQsXHJcbi8vICAgICAgICAgICAgICAgICB1c2VyX2lkOiB1c2VySWQsXHJcbi8vICAgICAgICAgICAgICAgICBhcHBvaW50bWVudF9kYXRlOiBhcHBvaW50bWVudERhdGUsXHJcbi8vICAgICAgICAgICAgICAgICB0aW1lLFxyXG4vLyAgICAgICAgICAgICAgICAgZG9jdG9yLFxyXG4vLyAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ0FwcG9pbnRtZW50IGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5J1xyXG4vLyAgICAgICAgICAgICB9KTtcclxuLy8gICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4vLyAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjcmVhdGluZyBhcHBvaW50bWVudDonLCBlcnJvcik7XHJcbi8vICAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogJ0ludGVybmFsIFNlcnZlciBFcnJvcicgfSk7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgfSBlbHNlIHtcclxuLy8gICAgICAgICByZXMuc3RhdHVzKDQwNSkuanNvbih7IG1lc3NhZ2U6ICdNZXRob2QgTm90IEFsbG93ZWQnIH0pO1xyXG4vLyAgICAgfVxyXG4vLyB9XHJcblxyXG5cclxuXHJcbmltcG9ydCB7IGRiQ29ubmVjdCB9IGZyb20gJy4uLy4uL2xpYi9kYkNvbm5lY3QnO1xyXG5pbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbic7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKHJlcSwgcmVzKSB7XHJcbiAgICBpZiAocmVxLm1ldGhvZCA9PT0gJ1BPU1QnKSB7XHJcbiAgICAgICAgY29uc3QgYXV0aEhlYWRlciA9IHJlcS5oZWFkZXJzLmF1dGhvcml6YXRpb247XHJcbiAgICAgICAgY29uc3QgdG9rZW4gPSBhdXRoSGVhZGVyPy5zcGxpdCgnICcpWzFdO1xyXG5cclxuICAgICAgICBpZiAoIXRva2VuKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IGVycm9yOiAnVW5hdXRob3JpemVkOiBUb2tlbiBtaXNzaW5nJyB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRlY29kZWQgPSBqd3QudmVyaWZ5KHRva2VuLCBwcm9jZXNzLmVudi5KV1RfU0VDUkVUKTtcclxuICAgICAgICAgICAgY29uc3QgdXNlcklkID0gZGVjb2RlZC5pZDsgLy8gQXNzdW1pbmcgdXNlciBJRCBpcyBwYXJ0IG9mIHRoZSB0b2tlbiBwYXlsb2FkXHJcbiAgICAgICAgICAgIGNvbnN0IHsgYXBwb2ludG1lbnRfZGF0ZSwgdGltZSwgZG9jdG9yIH0gPSByZXEuYm9keTsgLy8gR2V0IGRhdGEgZnJvbSByZXF1ZXN0IGJvZHlcclxuXHJcbiAgICAgICAgICAgIC8vIExvZyBkYXRhIGZvciBkZWJ1Z2dpbmdcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0NyZWF0aW5nIGFwcG9pbnRtZW50OicsIHsgdXNlcklkLCBhcHBvaW50bWVudF9kYXRlLCB0aW1lLCBkb2N0b3IgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBDaGVjayBmb3IgbWlzc2luZyBmaWVsZHNcclxuICAgICAgICAgICAgaWYgKCFhcHBvaW50bWVudF9kYXRlIHx8ICF0aW1lIHx8ICFkb2N0b3IpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiAnTWlzc2luZyByZXF1aXJlZCBmaWVsZHM6IGFwcG9pbnRtZW50X2RhdGUsIHRpbWUsIGRvY3RvcicgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGNvbm5lY3Rpb24gPSBhd2FpdCBkYkNvbm5lY3QoKTtcclxuICAgICAgICAgICAgYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKFxyXG4gICAgICAgICAgICAgICAgJ0lOU0VSVCBJTlRPIGFwcG9pbnRtZW50cyAodXNlcl9pZCwgYXBwb2ludG1lbnRfZGF0ZSwgdGltZSwgZG9jdG9yKSBWQUxVRVMgKD8sID8sID8sID8pJywgXHJcbiAgICAgICAgICAgICAgICBbdXNlcklkLCBhcHBvaW50bWVudF9kYXRlLCB0aW1lLCBkb2N0b3JdXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIGF3YWl0IGNvbm5lY3Rpb24uZW5kKCk7XHJcblxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMSkuanNvbih7IG1lc3NhZ2U6ICdBcHBvaW50bWVudCBjcmVhdGVkIHN1Y2Nlc3NmdWxseScgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY3JlYXRpbmcgYXBwb2ludG1lbnQ6JywgZXJyb3IpO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiAnRXJyb3IgY3JlYXRpbmcgYXBwb2ludG1lbnQ6ICcgKyBlcnJvci5tZXNzYWdlIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmVzLnNldEhlYWRlcignQWxsb3cnLCBbJ1BPU1QnXSk7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA1KS5qc29uKHsgZXJyb3I6IGBNZXRob2QgJHtyZXEubWV0aG9kfSBOb3QgQWxsb3dlZGAgfSk7XHJcbiAgICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbImRiQ29ubmVjdCIsImp3dCIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJtZXRob2QiLCJhdXRoSGVhZGVyIiwiaGVhZGVycyIsImF1dGhvcml6YXRpb24iLCJ0b2tlbiIsInNwbGl0Iiwic3RhdHVzIiwianNvbiIsImVycm9yIiwiZGVjb2RlZCIsInZlcmlmeSIsInByb2Nlc3MiLCJlbnYiLCJKV1RfU0VDUkVUIiwidXNlcklkIiwiaWQiLCJhcHBvaW50bWVudF9kYXRlIiwidGltZSIsImRvY3RvciIsImJvZHkiLCJjb25zb2xlIiwibG9nIiwiY29ubmVjdGlvbiIsImV4ZWN1dGUiLCJlbmQiLCJtZXNzYWdlIiwic2V0SGVhZGVyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/appointments.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fappointments&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cappointments.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();