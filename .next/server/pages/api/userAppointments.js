"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/userAppointments";
exports.ids = ["pages/api/userAppointments"];
exports.modules = {

/***/ "jsonwebtoken":
/*!*******************************!*\
  !*** external "jsonwebtoken" ***!
  \*******************************/
/***/ ((module) => {

module.exports = require("jsonwebtoken");

/***/ }),

/***/ "mysql2/promise":
/*!*********************************!*\
  !*** external "mysql2/promise" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("mysql2/promise");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2FuserAppointments&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5CuserAppointments.js&middlewareConfigBase64=e30%3D!":
/*!**************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2FuserAppointments&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5CuserAppointments.js&middlewareConfigBase64=e30%3D! ***!
  \**************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_userAppointments_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\userAppointments.js */ \"(api)/./pages/api/userAppointments.js\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_userAppointments_js__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_userAppointments_js__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/userAppointments\",\n        pathname: \"/api/userAppointments\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_userAppointments_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRnVzZXJBcHBvaW50bWVudHMmcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZwYWdlcyU1Q2FwaSU1Q3VzZXJBcHBvaW50bWVudHMuanMmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ0w7QUFDMUQ7QUFDOEQ7QUFDOUQ7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLDJEQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLGVBQWUsd0VBQUssQ0FBQywyREFBUTtBQUNwQztBQUNPLHdCQUF3QixnSEFBbUI7QUFDbEQ7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob3NwaXRhbC1tYW5hZ2VtZW50Lz84ZjA2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhZ2VzQVBJUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9wYWdlcy1hcGkvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgaG9pc3QgfSBmcm9tIFwibmV4dC9kaXN0L2J1aWxkL3RlbXBsYXRlcy9oZWxwZXJzXCI7XG4vLyBJbXBvcnQgdGhlIHVzZXJsYW5kIGNvZGUuXG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiLi9wYWdlc1xcXFxhcGlcXFxcdXNlckFwcG9pbnRtZW50cy5qc1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBoYW5kbGVyIChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCBcImRlZmF1bHRcIik7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCBcImNvbmZpZ1wiKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3VzZXJBcHBvaW50bWVudHNcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS91c2VyQXBwb2ludG1lbnRzXCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogXCJcIixcbiAgICAgICAgZmlsZW5hbWU6IFwiXCJcbiAgICB9LFxuICAgIHVzZXJsYW5kXG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZXMtYXBpLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2FuserAppointments&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5CuserAppointments.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./lib/dbConnect.js":
/*!**************************!*\
  !*** ./lib/dbConnect.js ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   dbConnect: () => (/* binding */ dbConnect)\n/* harmony export */ });\n/* harmony import */ var mysql2_promise__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mysql2/promise */ \"mysql2/promise\");\n/* harmony import */ var mysql2_promise__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mysql2_promise__WEBPACK_IMPORTED_MODULE_0__);\n// import mysql from 'mysql2/promise';\n// let connection;\n// const mysql = require('mysql2');\n// require('dotenv').config(); // Load environment variables\n// // Create a connection to the database\n// const connection = mysql.createConnection({\n//   host: process.env.DB_HOST,      // Use host from .env.local\n//   user: process.env.DB_USER,      // Use username from .env.local\n//   password: process.env.DB_PASSWORD, // Use blank password from .env.local\n//   database: process.env.DB_NAME    // Use database name from .env.local\n// });\n// // Connect to MySQL\n// connection.connect((err) => {\n//   if (err) {\n//     console.error('Error connecting: ' + err.stack);\n//     return;\n//   }\n//   console.log('Connected as id ' + connection.threadId);\n// });\n// module.exports = connection; // Export the connection for use in other files\n\nlet connection;\nasync function dbConnect() {\n    if (!connection) {\n        connection = await mysql2_promise__WEBPACK_IMPORTED_MODULE_0___default().createConnection({\n            host: process.env.MYSQL_HOST || \"localhost\",\n            user: process.env.MYSQL_USER || \"root\",\n            password: process.env.MYSQL_PASSWORD || \"\",\n            database: process.env.MYSQL_DATABASE || \"ram\",\n            waitForConnections: true,\n            connectionLimit: 10,\n            queueLimit: 0\n        });\n    }\n    return connection;\n} // import mysql from 'mysql2/promise';\n // async function dbConnect() {\n //   try {\n //     const connection = await mysql.createConnection({\n //       host: process.env.DB_HOST || 'localhost',\n //       user: process.env.DB_USER || 'root',\n //       password: process.env.DB_PASSWORD || '',\n //       database: process.env.DB_NAME || 'ram'\n //     });\n //     console.log('Database connected successfully!');\n //     return connection;\n //   } catch (error) {\n //     console.error('Database connection failed:', error);\n //     throw error; // Re-throw the error for further handling\n //   }\n // }\n // export default dbConnect; // Make sure this line is present\n // async function testConnection() {\n //   const db = await dbConnect();\n //   console.log('Database connected successfully!');\n //   await db.end();\n // }\n // testConnection().catch(console.error);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvZGJDb25uZWN0LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUlBLHNDQUFzQztBQUV0QyxrQkFBa0I7QUFHbEIsbUNBQW1DO0FBQ25DLDREQUE0RDtBQUU1RCx5Q0FBeUM7QUFDekMsOENBQThDO0FBQzlDLGdFQUFnRTtBQUNoRSxvRUFBb0U7QUFDcEUsNkVBQTZFO0FBQzdFLDBFQUEwRTtBQUMxRSxNQUFNO0FBRU4sc0JBQXNCO0FBQ3RCLGdDQUFnQztBQUNoQyxlQUFlO0FBQ2YsdURBQXVEO0FBQ3ZELGNBQWM7QUFDZCxNQUFNO0FBQ04sMkRBQTJEO0FBQzNELE1BQU07QUFFTiwrRUFBK0U7QUFFNUM7QUFFbkMsSUFBSUM7QUFFRyxlQUFlQztJQUNwQixJQUFJLENBQUNELFlBQVk7UUFDZkEsYUFBYSxNQUFNRCxzRUFBc0IsQ0FBQztZQUN4Q0ksTUFBTUMsUUFBUUMsR0FBRyxDQUFDQyxVQUFVLElBQUk7WUFDaENDLE1BQU1ILFFBQVFDLEdBQUcsQ0FBQ0csVUFBVSxJQUFJO1lBQ2hDQyxVQUFVTCxRQUFRQyxHQUFHLENBQUNLLGNBQWMsSUFBSTtZQUN4Q0MsVUFBVVAsUUFBUUMsR0FBRyxDQUFDTyxjQUFjLElBQUk7WUFDeENDLG9CQUFvQjtZQUNwQkMsaUJBQWlCO1lBQ2pCQyxZQUFZO1FBQ2Q7SUFDRjtJQUNBLE9BQU9mO0FBQ1QsRUFNQSxzQ0FBc0M7Q0FFdEMsK0JBQStCO0NBQy9CLFVBQVU7Q0FDVix3REFBd0Q7Q0FDeEQsa0RBQWtEO0NBQ2xELDZDQUE2QztDQUM3QyxpREFBaUQ7Q0FDakQsK0NBQStDO0NBQy9DLFVBQVU7Q0FDVix1REFBdUQ7Q0FDdkQseUJBQXlCO0NBQ3pCLHNCQUFzQjtDQUN0QiwyREFBMkQ7Q0FDM0QsOERBQThEO0NBQzlELE1BQU07Q0FDTixJQUFJO0NBRUosOERBQThEO0NBUTlELG9DQUFvQztDQUNwQyxrQ0FBa0M7Q0FDbEMscURBQXFEO0NBQ3JELG9CQUFvQjtDQUNwQixJQUFJO0NBRUoseUNBQXlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG9zcGl0YWwtbWFuYWdlbWVudC8uL2xpYi9kYkNvbm5lY3QuanM/MWQzYiJdLCJzb3VyY2VzQ29udGVudCI6WyJcclxuXHJcblxyXG5cclxuLy8gaW1wb3J0IG15c3FsIGZyb20gJ215c3FsMi9wcm9taXNlJztcclxuXHJcbi8vIGxldCBjb25uZWN0aW9uO1xyXG5cclxuXHJcbi8vIGNvbnN0IG15c3FsID0gcmVxdWlyZSgnbXlzcWwyJyk7XHJcbi8vIHJlcXVpcmUoJ2RvdGVudicpLmNvbmZpZygpOyAvLyBMb2FkIGVudmlyb25tZW50IHZhcmlhYmxlc1xyXG5cclxuLy8gLy8gQ3JlYXRlIGEgY29ubmVjdGlvbiB0byB0aGUgZGF0YWJhc2VcclxuLy8gY29uc3QgY29ubmVjdGlvbiA9IG15c3FsLmNyZWF0ZUNvbm5lY3Rpb24oe1xyXG4vLyAgIGhvc3Q6IHByb2Nlc3MuZW52LkRCX0hPU1QsICAgICAgLy8gVXNlIGhvc3QgZnJvbSAuZW52LmxvY2FsXHJcbi8vICAgdXNlcjogcHJvY2Vzcy5lbnYuREJfVVNFUiwgICAgICAvLyBVc2UgdXNlcm5hbWUgZnJvbSAuZW52LmxvY2FsXHJcbi8vICAgcGFzc3dvcmQ6IHByb2Nlc3MuZW52LkRCX1BBU1NXT1JELCAvLyBVc2UgYmxhbmsgcGFzc3dvcmQgZnJvbSAuZW52LmxvY2FsXHJcbi8vICAgZGF0YWJhc2U6IHByb2Nlc3MuZW52LkRCX05BTUUgICAgLy8gVXNlIGRhdGFiYXNlIG5hbWUgZnJvbSAuZW52LmxvY2FsXHJcbi8vIH0pO1xyXG5cclxuLy8gLy8gQ29ubmVjdCB0byBNeVNRTFxyXG4vLyBjb25uZWN0aW9uLmNvbm5lY3QoKGVycikgPT4ge1xyXG4vLyAgIGlmIChlcnIpIHtcclxuLy8gICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNvbm5lY3Rpbmc6ICcgKyBlcnIuc3RhY2spO1xyXG4vLyAgICAgcmV0dXJuO1xyXG4vLyAgIH1cclxuLy8gICBjb25zb2xlLmxvZygnQ29ubmVjdGVkIGFzIGlkICcgKyBjb25uZWN0aW9uLnRocmVhZElkKTtcclxuLy8gfSk7XHJcblxyXG4vLyBtb2R1bGUuZXhwb3J0cyA9IGNvbm5lY3Rpb247IC8vIEV4cG9ydCB0aGUgY29ubmVjdGlvbiBmb3IgdXNlIGluIG90aGVyIGZpbGVzXHJcblxyXG5pbXBvcnQgbXlzcWwgZnJvbSAnbXlzcWwyL3Byb21pc2UnO1xyXG5cclxubGV0IGNvbm5lY3Rpb247XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGJDb25uZWN0KCkge1xyXG4gIGlmICghY29ubmVjdGlvbikge1xyXG4gICAgY29ubmVjdGlvbiA9IGF3YWl0IG15c3FsLmNyZWF0ZUNvbm5lY3Rpb24oe1xyXG4gICAgICBob3N0OiBwcm9jZXNzLmVudi5NWVNRTF9IT1NUIHx8ICdsb2NhbGhvc3QnLFxyXG4gICAgICB1c2VyOiBwcm9jZXNzLmVudi5NWVNRTF9VU0VSIHx8ICdyb290JyxcclxuICAgICAgcGFzc3dvcmQ6IHByb2Nlc3MuZW52Lk1ZU1FMX1BBU1NXT1JEIHx8ICcnLFxyXG4gICAgICBkYXRhYmFzZTogcHJvY2Vzcy5lbnYuTVlTUUxfREFUQUJBU0UgfHwgJ3JhbScsXHJcbiAgICAgIHdhaXRGb3JDb25uZWN0aW9uczogdHJ1ZSxcclxuICAgICAgY29ubmVjdGlvbkxpbWl0OiAxMCxcclxuICAgICAgcXVldWVMaW1pdDogMCxcclxuICAgIH0pO1xyXG4gIH1cclxuICByZXR1cm4gY29ubmVjdGlvbjtcclxufVxyXG5cclxuXHJcblxyXG5cclxuXHJcbi8vIGltcG9ydCBteXNxbCBmcm9tICdteXNxbDIvcHJvbWlzZSc7XHJcblxyXG4vLyBhc3luYyBmdW5jdGlvbiBkYkNvbm5lY3QoKSB7XHJcbi8vICAgdHJ5IHtcclxuLy8gICAgIGNvbnN0IGNvbm5lY3Rpb24gPSBhd2FpdCBteXNxbC5jcmVhdGVDb25uZWN0aW9uKHtcclxuLy8gICAgICAgaG9zdDogcHJvY2Vzcy5lbnYuREJfSE9TVCB8fCAnbG9jYWxob3N0JyxcclxuLy8gICAgICAgdXNlcjogcHJvY2Vzcy5lbnYuREJfVVNFUiB8fCAncm9vdCcsXHJcbi8vICAgICAgIHBhc3N3b3JkOiBwcm9jZXNzLmVudi5EQl9QQVNTV09SRCB8fCAnJyxcclxuLy8gICAgICAgZGF0YWJhc2U6IHByb2Nlc3MuZW52LkRCX05BTUUgfHwgJ3JhbSdcclxuLy8gICAgIH0pO1xyXG4vLyAgICAgY29uc29sZS5sb2coJ0RhdGFiYXNlIGNvbm5lY3RlZCBzdWNjZXNzZnVsbHkhJyk7XHJcbi8vICAgICByZXR1cm4gY29ubmVjdGlvbjtcclxuLy8gICB9IGNhdGNoIChlcnJvcikge1xyXG4vLyAgICAgY29uc29sZS5lcnJvcignRGF0YWJhc2UgY29ubmVjdGlvbiBmYWlsZWQ6JywgZXJyb3IpO1xyXG4vLyAgICAgdGhyb3cgZXJyb3I7IC8vIFJlLXRocm93IHRoZSBlcnJvciBmb3IgZnVydGhlciBoYW5kbGluZ1xyXG4vLyAgIH1cclxuLy8gfVxyXG5cclxuLy8gZXhwb3J0IGRlZmF1bHQgZGJDb25uZWN0OyAvLyBNYWtlIHN1cmUgdGhpcyBsaW5lIGlzIHByZXNlbnRcclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbi8vIGFzeW5jIGZ1bmN0aW9uIHRlc3RDb25uZWN0aW9uKCkge1xyXG4vLyAgIGNvbnN0IGRiID0gYXdhaXQgZGJDb25uZWN0KCk7XHJcbi8vICAgY29uc29sZS5sb2coJ0RhdGFiYXNlIGNvbm5lY3RlZCBzdWNjZXNzZnVsbHkhJyk7XHJcbi8vICAgYXdhaXQgZGIuZW5kKCk7XHJcbi8vIH1cclxuXHJcbi8vIHRlc3RDb25uZWN0aW9uKCkuY2F0Y2goY29uc29sZS5lcnJvcik7XHJcbiJdLCJuYW1lcyI6WyJteXNxbCIsImNvbm5lY3Rpb24iLCJkYkNvbm5lY3QiLCJjcmVhdGVDb25uZWN0aW9uIiwiaG9zdCIsInByb2Nlc3MiLCJlbnYiLCJNWVNRTF9IT1NUIiwidXNlciIsIk1ZU1FMX1VTRVIiLCJwYXNzd29yZCIsIk1ZU1FMX1BBU1NXT1JEIiwiZGF0YWJhc2UiLCJNWVNRTF9EQVRBQkFTRSIsIndhaXRGb3JDb25uZWN0aW9ucyIsImNvbm5lY3Rpb25MaW1pdCIsInF1ZXVlTGltaXQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./lib/dbConnect.js\n");

/***/ }),

/***/ "(api)/./pages/api/userAppointments.js":
/*!***************************************!*\
  !*** ./pages/api/userAppointments.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _lib_dbConnect__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/dbConnect */ \"(api)/./lib/dbConnect.js\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_1__);\n// import dbConnect from '../../lib/dbConnect';\n// import jwt from 'jsonwebtoken';\n// export default async function handler(req, res) {\n//     if (req.method === 'GET') {\n//         const token = req.headers.authorization?.split(' ')[1]; // Bearer token\n//         if (!token) {\n//             return res.status(401).json({ error: 'Unauthorized' });\n//         }\n//         try {\n//             const decoded = jwt.verify(token, process.env.JWT_SECRET);\n//             const userId = decoded.id;\n//             await dbConnect();\n//             const query = 'SELECT * FROM appointments WHERE user_id = ?';\n//             const values = [userId];\n//             const appointments = await db.query(query, values);\n//             return res.status(200).json(appointments);\n//         } catch (error) {\n//             return res.status(500).json({ error: 'Database error' });\n//         }\n//     }\n//     res.setHeader('Allow', ['GET']);\n//     res.status(405).end(`Method ${req.method} Not Allowed`);\n// }\n// pages/api/userAppointments.js\n// import { dbConnect } from '../../lib/dbConnect';\n// import jwt from 'jsonwebtoken';\n// export default async function handler(req, res) {\n//   const connection = await dbConnect();\n//   if (req.method === 'GET') {\n//     const token = req.headers.authorization?.split(' ')[1];\n//     if (!token) {\n//       return res.status(401).json({ message: 'Unauthorized' });\n//     }\n//     try {\n//       const decoded = jwt.verify(token, process.env.JWT_SECRET);\n//       const userEmail = decoded.email; // Assuming the email is in the token\n//       // Fetch appointments based on user email\n//       const [appointments] = await connection.execute(\n//         'SELECT * FROM appointments WHERE user_email = ?', // Make sure your appointments table has a user_email field\n//         [userEmail]\n//       );\n//       return res.status(200).json(appointments);\n//     } catch (error) {\n//       return res.status(500).json({ message: 'Failed to fetch appointments', error: error.message });\n//     }\n//   } else {\n//     res.setHeader('Allow', ['GET']);\n//     return res.status(405).end(`Method ${req.method} Not Allowed`);\n//   }\n// }\n// // pages/api/userAppointments.js---------------------------------------\n// import { dbConnect } from '../../lib/dbConnect';\n// import jwt from 'jsonwebtoken';\n// export default async function handler(req, res) {\n//   const connection = await dbConnect();\n//   if (req.method === 'GET') {\n//     const token = req.headers.authorization?.split(' ')[1];\n//     if (!token) {\n//       return res.status(401).json({ message: 'Unauthorized' });\n//     }\n//     try {\n//       const decoded = jwt.verify(token, process.env.JWT_SECRET);\n//       const userEmail = decoded.email; // Assuming the email is in the token\n//       // Fetch appointments based on user email\n//       const [appointments] = await connection.execute(\n//         'SELECT * FROM appointments WHERE user_email = ?',\n//         [userEmail]\n//       );\n//       // Send appointments as JSON response\n//       return res.status(200).json(appointments); // Send the appointments data\n//     } catch (error) {\n//       return res.status(500).json({ message: 'Failed to fetch appointments', error: error.message });\n//     }\n//   } else {\n//     res.setHeader('Allow', ['GET']);\n//     return res.status(405).end(`Method ${req.method} Not Allowed`);\n//   }\n// }\n// pages/api/userAppointments.js\n// import { dbConnect } from '../../lib/dbConnect'; // Make sure this path is correct\n// import jwt from 'jsonwebtoken';\n// export default async function handler(req, res) {\n//     // Connect to the database\n//     const connection = await dbConnect();\n//     // Check if the request method is GET\n//     if (req.method === 'GET') {\n//         const token = req.headers.authorization?.split(' ')[1]; // Get the token from the authorization header\n//         // If no token is provided, return Unauthorized\n//         if (!token) {\n//             return res.status(401).json({ message: 'Unauthorized' });\n//         }\n//         try {\n//             // Verify the token and extract the email\n//             const decoded = jwt.verify(token, process.env.JWT_SECRET);\n//             const email = decoded.email;\n//             // Fetch appointments for the user with the given email\n//             const query = 'SELECT * FROM appointments WHERE user_email = ?';\n//             const values = [email];\n//             const [appointments] = await connection.execute(query, values);\n//             return res.status(200).json({ appointments }); // Return appointments as JSON\n//         } catch (error) {\n//             console.error('Error fetching appointments:', error);\n//             return res.status(500).json({ message: 'Internal Server Error' });\n//         } finally {\n//             await connection.end(); // Close the connection\n//         }\n//     }\n//     // If the method is not GET, return Method Not Allowed\n//     res.setHeader('Allow', ['GET']);\n//     return res.status(405).end(`Method ${req.method} Not Allowed`);\n// }\n// import { dbConnect } from '../../lib/dbConnect';\n// import jwt from 'jsonwebtoken';\n// export default async function handler(req, res) {\n//     if (req.method === 'GET') { // Change to GET for fetching appointments\n//         const token = req.headers.authorization?.split(' ')[1];\n//         if (!token) {\n//             return res.status(401).json({ error: 'Unauthorized' });\n//         }\n//         try {\n//             // Verify the token and get the user's email\n//             const decoded = jwt.verify(token, process.env.JWT_SECRET);\n//             const userId = decoded.id;\n//             // Connect to the database\n//             const connection = await dbConnect();\n//             // Fetch appointments based on user ID\n//             const [rows] = await connection.execute('SELECT * FROM appointments WHERE user_id = ?', [userId]);\n//             // Close the connection (if not using a connection pool)\n//             await connection.end(); // Make sure this line is in the right place\n//             return res.status(200).json(rows);\n//         } catch (error) {\n//             console.error('Error fetching appointments:', error);\n//             return res.status(500).json({ error: 'Error fetching appointments' });\n//         }\n//     } else {\n//         res.setHeader('Allow', ['GET']);\n//         return res.status(405).end(`Method ${req.method} Not Allowed`);\n//     }\n// }\n// import { dbConnect } from '../../lib/dbConnect';\n// import jwt from 'jsonwebtoken';\n// export default async function handler(req, res) {\n//     if (req.method === 'GET') { \n//         const authHeader = req.headers.authorization;\n//         const token = authHeader?.split(' ')[1]; // Extract the token from \"Bearer <token>\"\n//         // Check if the token exists\n//         if (!token) {\n//             return res.status(401).json({ error: 'Unauthorized: Token missing' });\n//         }\n//         try {\n//             // Verify the JWT token\n//             const decoded = jwt.verify(token, process.env.JWT_SECRET);\n//             const userId = decoded.id;\n//             // Connect to the database\n//             const connection = await dbConnect();\n//             // Fetch the appointments for the logged-in user by user ID\n//             const [rows] = await connection.execute('SELECT * FROM appointments WHERE user_id = ?', [userId]);\n//             // Close the connection after the query\n//             await connection.end();\n//             return res.status(200).json(rows);\n//         } catch (error) {\n//             // Handle JWT errors (like malformed or expired tokens)\n//             if (error.name === 'JsonWebTokenError') {\n//                 return res.status(401).json({ error: 'Invalid or malformed token' });\n//             } else if (error.name === 'TokenExpiredError') {\n//                 return res.status(401).json({ error: 'Token expired' });\n//             } else {\n//                 console.error('Error fetching appointments:', error);\n//                 return res.status(500).json({ error: 'Server error while fetching appointments' });\n//             }\n//         }\n//     } else {\n//         res.setHeader('Allow', ['GET']);\n//         return res.status(405).json({ error: `Method ${req.method} Not Allowed` });\n//     }\n// }\n\n\nasync function handler(req, res) {\n    if (req.method === \"GET\") {\n        const authHeader = req.headers.authorization;\n        const token = authHeader?.split(\" \")[1]; // Extract the token from \"Bearer <token>\"\n        // Check if the token exists\n        if (!token) {\n            return res.status(401).json({\n                error: \"Unauthorized: Token missing\"\n            });\n        }\n        try {\n            // Verify the JWT token\n            const decoded = jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default().verify(token, process.env.JWT_SECRET);\n            const userId = decoded.id;\n            // Connect to the database\n            const connection = await (0,_lib_dbConnect__WEBPACK_IMPORTED_MODULE_0__.dbConnect)();\n            // Fetch the appointments for the logged-in user by user ID\n            const [rows] = await connection.execute(\"SELECT * FROM appointments WHERE user_id = ?\", [\n                userId\n            ]);\n            // Close the connection after the query\n            await connection.end();\n            return res.status(200).json(rows);\n        } catch (error) {\n            // Handle JWT errors (like malformed or expired tokens)\n            if (error.name === \"JsonWebTokenError\") {\n                return res.status(401).json({\n                    error: \"Invalid or malformed token\"\n                });\n            } else if (error.name === \"TokenExpiredError\") {\n                return res.status(401).json({\n                    error: \"Token expired\"\n                });\n            } else {\n                console.error(\"Error fetching appointments:\", error);\n                return res.status(500).json({\n                    error: \"Server error while fetching appointments: \" + error.message\n                });\n            }\n        }\n    } else {\n        res.setHeader(\"Allow\", [\n            \"GET\"\n        ]);\n        return res.status(405).json({\n            error: `Method ${req.method} Not Allowed`\n        });\n    }\n} // pages/api/userAppointments.js\n // import pool from '../../db'; // Adjust the import path as necessary\n // import { pool } from '../../lib/db';\n // export default async function handler(req, res) {\n //     if (req.method === 'GET') {\n //         try {\n //             const token = req.headers.authorization.split(' ')[1]; // Assuming token is passed as 'Bearer token'\n //             const userId = 'your_user_id'; // Replace this with your logic to extract user ID from token\n //             const [appointments] = await pool.query('SELECT * FROM appointments WHERE userId = ?', [userId]);\n //             res.status(200).json(appointments);\n //         } catch (error) {\n //             console.error('Error fetching appointments:', error);\n //             res.status(500).json({ message: 'Error fetching appointments' });\n //         }\n //     } else {\n //         res.setHeader('Allow', ['GET']);\n //         res.status(405).end(`Method ${req.method} Not Allowed`);\n //     }\n // }\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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MkM7Q0FDM0MsbUVBQW1FO0NBQ25FLFFBQVE7Q0FDUixJQUFJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG9zcGl0YWwtbWFuYWdlbWVudC8uL3BhZ2VzL2FwaS91c2VyQXBwb2ludG1lbnRzLmpzPzU3MWQiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gaW1wb3J0IGRiQ29ubmVjdCBmcm9tICcuLi8uLi9saWIvZGJDb25uZWN0JztcclxuLy8gaW1wb3J0IGp3dCBmcm9tICdqc29ud2VidG9rZW4nO1xyXG5cclxuLy8gZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXEsIHJlcykge1xyXG4vLyAgICAgaWYgKHJlcS5tZXRob2QgPT09ICdHRVQnKSB7XHJcbi8vICAgICAgICAgY29uc3QgdG9rZW4gPSByZXEuaGVhZGVycy5hdXRob3JpemF0aW9uPy5zcGxpdCgnICcpWzFdOyAvLyBCZWFyZXIgdG9rZW5cclxuXHJcbi8vICAgICAgICAgaWYgKCF0b2tlbikge1xyXG4vLyAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBlcnJvcjogJ1VuYXV0aG9yaXplZCcgfSk7XHJcbi8vICAgICAgICAgfVxyXG5cclxuLy8gICAgICAgICB0cnkge1xyXG4vLyAgICAgICAgICAgICBjb25zdCBkZWNvZGVkID0gand0LnZlcmlmeSh0b2tlbiwgcHJvY2Vzcy5lbnYuSldUX1NFQ1JFVCk7XHJcbi8vICAgICAgICAgICAgIGNvbnN0IHVzZXJJZCA9IGRlY29kZWQuaWQ7XHJcblxyXG4vLyAgICAgICAgICAgICBhd2FpdCBkYkNvbm5lY3QoKTtcclxuXHJcbi8vICAgICAgICAgICAgIGNvbnN0IHF1ZXJ5ID0gJ1NFTEVDVCAqIEZST00gYXBwb2ludG1lbnRzIFdIRVJFIHVzZXJfaWQgPSA/JztcclxuLy8gICAgICAgICAgICAgY29uc3QgdmFsdWVzID0gW3VzZXJJZF07XHJcbi8vICAgICAgICAgICAgIGNvbnN0IGFwcG9pbnRtZW50cyA9IGF3YWl0IGRiLnF1ZXJ5KHF1ZXJ5LCB2YWx1ZXMpO1xyXG5cclxuLy8gICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKGFwcG9pbnRtZW50cyk7XHJcbi8vICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuLy8gICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICdEYXRhYmFzZSBlcnJvcicgfSk7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIHJlcy5zZXRIZWFkZXIoJ0FsbG93JywgWydHRVQnXSk7XHJcbi8vICAgICByZXMuc3RhdHVzKDQwNSkuZW5kKGBNZXRob2QgJHtyZXEubWV0aG9kfSBOb3QgQWxsb3dlZGApO1xyXG4vLyB9XHJcblxyXG5cclxuLy8gcGFnZXMvYXBpL3VzZXJBcHBvaW50bWVudHMuanNcclxuLy8gaW1wb3J0IHsgZGJDb25uZWN0IH0gZnJvbSAnLi4vLi4vbGliL2RiQ29ubmVjdCc7XHJcbi8vIGltcG9ydCBqd3QgZnJvbSAnanNvbndlYnRva2VuJztcclxuXHJcbi8vIGV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxLCByZXMpIHtcclxuLy8gICBjb25zdCBjb25uZWN0aW9uID0gYXdhaXQgZGJDb25uZWN0KCk7XHJcblxyXG4vLyAgIGlmIChyZXEubWV0aG9kID09PSAnR0VUJykge1xyXG4vLyAgICAgY29uc3QgdG9rZW4gPSByZXEuaGVhZGVycy5hdXRob3JpemF0aW9uPy5zcGxpdCgnICcpWzFdO1xyXG5cclxuLy8gICAgIGlmICghdG9rZW4pIHtcclxuLy8gICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogJ1VuYXV0aG9yaXplZCcgfSk7XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgdHJ5IHtcclxuLy8gICAgICAgY29uc3QgZGVjb2RlZCA9IGp3dC52ZXJpZnkodG9rZW4sIHByb2Nlc3MuZW52LkpXVF9TRUNSRVQpO1xyXG4vLyAgICAgICBjb25zdCB1c2VyRW1haWwgPSBkZWNvZGVkLmVtYWlsOyAvLyBBc3N1bWluZyB0aGUgZW1haWwgaXMgaW4gdGhlIHRva2VuXHJcblxyXG4vLyAgICAgICAvLyBGZXRjaCBhcHBvaW50bWVudHMgYmFzZWQgb24gdXNlciBlbWFpbFxyXG4vLyAgICAgICBjb25zdCBbYXBwb2ludG1lbnRzXSA9IGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZShcclxuLy8gICAgICAgICAnU0VMRUNUICogRlJPTSBhcHBvaW50bWVudHMgV0hFUkUgdXNlcl9lbWFpbCA9ID8nLCAvLyBNYWtlIHN1cmUgeW91ciBhcHBvaW50bWVudHMgdGFibGUgaGFzIGEgdXNlcl9lbWFpbCBmaWVsZFxyXG4vLyAgICAgICAgIFt1c2VyRW1haWxdXHJcbi8vICAgICAgICk7XHJcblxyXG4vLyAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oYXBwb2ludG1lbnRzKTtcclxuLy8gICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbi8vICAgICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IG1lc3NhZ2U6ICdGYWlsZWQgdG8gZmV0Y2ggYXBwb2ludG1lbnRzJywgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfSk7XHJcbi8vICAgICB9XHJcbi8vICAgfSBlbHNlIHtcclxuLy8gICAgIHJlcy5zZXRIZWFkZXIoJ0FsbG93JywgWydHRVQnXSk7XHJcbi8vICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDUpLmVuZChgTWV0aG9kICR7cmVxLm1ldGhvZH0gTm90IEFsbG93ZWRgKTtcclxuLy8gICB9XHJcbi8vIH1cclxuXHJcblxyXG5cclxuLy8gLy8gcGFnZXMvYXBpL3VzZXJBcHBvaW50bWVudHMuanMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gaW1wb3J0IHsgZGJDb25uZWN0IH0gZnJvbSAnLi4vLi4vbGliL2RiQ29ubmVjdCc7XHJcbi8vIGltcG9ydCBqd3QgZnJvbSAnanNvbndlYnRva2VuJztcclxuXHJcbi8vIGV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxLCByZXMpIHtcclxuLy8gICBjb25zdCBjb25uZWN0aW9uID0gYXdhaXQgZGJDb25uZWN0KCk7XHJcblxyXG4vLyAgIGlmIChyZXEubWV0aG9kID09PSAnR0VUJykge1xyXG4vLyAgICAgY29uc3QgdG9rZW4gPSByZXEuaGVhZGVycy5hdXRob3JpemF0aW9uPy5zcGxpdCgnICcpWzFdO1xyXG5cclxuLy8gICAgIGlmICghdG9rZW4pIHtcclxuLy8gICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogJ1VuYXV0aG9yaXplZCcgfSk7XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgdHJ5IHtcclxuLy8gICAgICAgY29uc3QgZGVjb2RlZCA9IGp3dC52ZXJpZnkodG9rZW4sIHByb2Nlc3MuZW52LkpXVF9TRUNSRVQpO1xyXG4vLyAgICAgICBjb25zdCB1c2VyRW1haWwgPSBkZWNvZGVkLmVtYWlsOyAvLyBBc3N1bWluZyB0aGUgZW1haWwgaXMgaW4gdGhlIHRva2VuXHJcblxyXG4vLyAgICAgICAvLyBGZXRjaCBhcHBvaW50bWVudHMgYmFzZWQgb24gdXNlciBlbWFpbFxyXG4vLyAgICAgICBjb25zdCBbYXBwb2ludG1lbnRzXSA9IGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZShcclxuLy8gICAgICAgICAnU0VMRUNUICogRlJPTSBhcHBvaW50bWVudHMgV0hFUkUgdXNlcl9lbWFpbCA9ID8nLFxyXG4vLyAgICAgICAgIFt1c2VyRW1haWxdXHJcbi8vICAgICAgICk7XHJcblxyXG4vLyAgICAgICAvLyBTZW5kIGFwcG9pbnRtZW50cyBhcyBKU09OIHJlc3BvbnNlXHJcbi8vICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihhcHBvaW50bWVudHMpOyAvLyBTZW5kIHRoZSBhcHBvaW50bWVudHMgZGF0YVxyXG4vLyAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuLy8gICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogJ0ZhaWxlZCB0byBmZXRjaCBhcHBvaW50bWVudHMnLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9KTtcclxuLy8gICAgIH1cclxuLy8gICB9IGVsc2Uge1xyXG4vLyAgICAgcmVzLnNldEhlYWRlcignQWxsb3cnLCBbJ0dFVCddKTtcclxuLy8gICAgIHJldHVybiByZXMuc3RhdHVzKDQwNSkuZW5kKGBNZXRob2QgJHtyZXEubWV0aG9kfSBOb3QgQWxsb3dlZGApO1xyXG4vLyAgIH1cclxuLy8gfVxyXG5cclxuXHJcbi8vIHBhZ2VzL2FwaS91c2VyQXBwb2ludG1lbnRzLmpzXHJcbi8vIGltcG9ydCB7IGRiQ29ubmVjdCB9IGZyb20gJy4uLy4uL2xpYi9kYkNvbm5lY3QnOyAvLyBNYWtlIHN1cmUgdGhpcyBwYXRoIGlzIGNvcnJlY3RcclxuLy8gaW1wb3J0IGp3dCBmcm9tICdqc29ud2VidG9rZW4nO1xyXG5cclxuLy8gZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXEsIHJlcykge1xyXG4vLyAgICAgLy8gQ29ubmVjdCB0byB0aGUgZGF0YWJhc2VcclxuLy8gICAgIGNvbnN0IGNvbm5lY3Rpb24gPSBhd2FpdCBkYkNvbm5lY3QoKTtcclxuXHJcbi8vICAgICAvLyBDaGVjayBpZiB0aGUgcmVxdWVzdCBtZXRob2QgaXMgR0VUXHJcbi8vICAgICBpZiAocmVxLm1ldGhvZCA9PT0gJ0dFVCcpIHtcclxuLy8gICAgICAgICBjb25zdCB0b2tlbiA9IHJlcS5oZWFkZXJzLmF1dGhvcml6YXRpb24/LnNwbGl0KCcgJylbMV07IC8vIEdldCB0aGUgdG9rZW4gZnJvbSB0aGUgYXV0aG9yaXphdGlvbiBoZWFkZXJcclxuXHJcbi8vICAgICAgICAgLy8gSWYgbm8gdG9rZW4gaXMgcHJvdmlkZWQsIHJldHVybiBVbmF1dGhvcml6ZWRcclxuLy8gICAgICAgICBpZiAoIXRva2VuKSB7XHJcbi8vICAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6ICdVbmF1dGhvcml6ZWQnIH0pO1xyXG4vLyAgICAgICAgIH1cclxuXHJcbi8vICAgICAgICAgdHJ5IHtcclxuLy8gICAgICAgICAgICAgLy8gVmVyaWZ5IHRoZSB0b2tlbiBhbmQgZXh0cmFjdCB0aGUgZW1haWxcclxuLy8gICAgICAgICAgICAgY29uc3QgZGVjb2RlZCA9IGp3dC52ZXJpZnkodG9rZW4sIHByb2Nlc3MuZW52LkpXVF9TRUNSRVQpO1xyXG4vLyAgICAgICAgICAgICBjb25zdCBlbWFpbCA9IGRlY29kZWQuZW1haWw7XHJcblxyXG4vLyAgICAgICAgICAgICAvLyBGZXRjaCBhcHBvaW50bWVudHMgZm9yIHRoZSB1c2VyIHdpdGggdGhlIGdpdmVuIGVtYWlsXHJcbi8vICAgICAgICAgICAgIGNvbnN0IHF1ZXJ5ID0gJ1NFTEVDVCAqIEZST00gYXBwb2ludG1lbnRzIFdIRVJFIHVzZXJfZW1haWwgPSA/JztcclxuLy8gICAgICAgICAgICAgY29uc3QgdmFsdWVzID0gW2VtYWlsXTtcclxuLy8gICAgICAgICAgICAgY29uc3QgW2FwcG9pbnRtZW50c10gPSBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUocXVlcnksIHZhbHVlcyk7XHJcblxyXG4vLyAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oeyBhcHBvaW50bWVudHMgfSk7IC8vIFJldHVybiBhcHBvaW50bWVudHMgYXMgSlNPTlxyXG4vLyAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbi8vICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGFwcG9pbnRtZW50czonLCBlcnJvcik7XHJcbi8vICAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IG1lc3NhZ2U6ICdJbnRlcm5hbCBTZXJ2ZXIgRXJyb3InIH0pO1xyXG4vLyAgICAgICAgIH0gZmluYWxseSB7XHJcbi8vICAgICAgICAgICAgIGF3YWl0IGNvbm5lY3Rpb24uZW5kKCk7IC8vIENsb3NlIHRoZSBjb25uZWN0aW9uXHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIC8vIElmIHRoZSBtZXRob2QgaXMgbm90IEdFVCwgcmV0dXJuIE1ldGhvZCBOb3QgQWxsb3dlZFxyXG4vLyAgICAgcmVzLnNldEhlYWRlcignQWxsb3cnLCBbJ0dFVCddKTtcclxuLy8gICAgIHJldHVybiByZXMuc3RhdHVzKDQwNSkuZW5kKGBNZXRob2QgJHtyZXEubWV0aG9kfSBOb3QgQWxsb3dlZGApO1xyXG4vLyB9XHJcblxyXG5cclxuXHJcbi8vIGltcG9ydCB7IGRiQ29ubmVjdCB9IGZyb20gJy4uLy4uL2xpYi9kYkNvbm5lY3QnO1xyXG4vLyBpbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbic7XHJcblxyXG4vLyBleHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKHJlcSwgcmVzKSB7XHJcbi8vICAgICBpZiAocmVxLm1ldGhvZCA9PT0gJ0dFVCcpIHsgLy8gQ2hhbmdlIHRvIEdFVCBmb3IgZmV0Y2hpbmcgYXBwb2ludG1lbnRzXHJcbi8vICAgICAgICAgY29uc3QgdG9rZW4gPSByZXEuaGVhZGVycy5hdXRob3JpemF0aW9uPy5zcGxpdCgnICcpWzFdO1xyXG4vLyAgICAgICAgIGlmICghdG9rZW4pIHtcclxuLy8gICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgZXJyb3I6ICdVbmF1dGhvcml6ZWQnIH0pO1xyXG4vLyAgICAgICAgIH1cclxuXHJcbi8vICAgICAgICAgdHJ5IHtcclxuLy8gICAgICAgICAgICAgLy8gVmVyaWZ5IHRoZSB0b2tlbiBhbmQgZ2V0IHRoZSB1c2VyJ3MgZW1haWxcclxuLy8gICAgICAgICAgICAgY29uc3QgZGVjb2RlZCA9IGp3dC52ZXJpZnkodG9rZW4sIHByb2Nlc3MuZW52LkpXVF9TRUNSRVQpO1xyXG4vLyAgICAgICAgICAgICBjb25zdCB1c2VySWQgPSBkZWNvZGVkLmlkO1xyXG5cclxuLy8gICAgICAgICAgICAgLy8gQ29ubmVjdCB0byB0aGUgZGF0YWJhc2VcclxuLy8gICAgICAgICAgICAgY29uc3QgY29ubmVjdGlvbiA9IGF3YWl0IGRiQ29ubmVjdCgpO1xyXG5cclxuLy8gICAgICAgICAgICAgLy8gRmV0Y2ggYXBwb2ludG1lbnRzIGJhc2VkIG9uIHVzZXIgSURcclxuLy8gICAgICAgICAgICAgY29uc3QgW3Jvd3NdID0gYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKCdTRUxFQ1QgKiBGUk9NIGFwcG9pbnRtZW50cyBXSEVSRSB1c2VyX2lkID0gPycsIFt1c2VySWRdKTtcclxuXHJcbi8vICAgICAgICAgICAgIC8vIENsb3NlIHRoZSBjb25uZWN0aW9uIChpZiBub3QgdXNpbmcgYSBjb25uZWN0aW9uIHBvb2wpXHJcbi8vICAgICAgICAgICAgIGF3YWl0IGNvbm5lY3Rpb24uZW5kKCk7IC8vIE1ha2Ugc3VyZSB0aGlzIGxpbmUgaXMgaW4gdGhlIHJpZ2h0IHBsYWNlXHJcblxyXG4vLyAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24ocm93cyk7XHJcbi8vICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuLy8gICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgYXBwb2ludG1lbnRzOicsIGVycm9yKTtcclxuLy8gICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICdFcnJvciBmZXRjaGluZyBhcHBvaW50bWVudHMnIH0pO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgIH0gZWxzZSB7XHJcbi8vICAgICAgICAgcmVzLnNldEhlYWRlcignQWxsb3cnLCBbJ0dFVCddKTtcclxuLy8gICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDUpLmVuZChgTWV0aG9kICR7cmVxLm1ldGhvZH0gTm90IEFsbG93ZWRgKTtcclxuLy8gICAgIH1cclxuLy8gfVxyXG5cclxuXHJcblxyXG4vLyBpbXBvcnQgeyBkYkNvbm5lY3QgfSBmcm9tICcuLi8uLi9saWIvZGJDb25uZWN0JztcclxuLy8gaW1wb3J0IGp3dCBmcm9tICdqc29ud2VidG9rZW4nO1xyXG5cclxuLy8gZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXEsIHJlcykge1xyXG4vLyAgICAgaWYgKHJlcS5tZXRob2QgPT09ICdHRVQnKSB7IFxyXG4vLyAgICAgICAgIGNvbnN0IGF1dGhIZWFkZXIgPSByZXEuaGVhZGVycy5hdXRob3JpemF0aW9uO1xyXG4vLyAgICAgICAgIGNvbnN0IHRva2VuID0gYXV0aEhlYWRlcj8uc3BsaXQoJyAnKVsxXTsgLy8gRXh0cmFjdCB0aGUgdG9rZW4gZnJvbSBcIkJlYXJlciA8dG9rZW4+XCJcclxuXHJcbi8vICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHRva2VuIGV4aXN0c1xyXG4vLyAgICAgICAgIGlmICghdG9rZW4pIHtcclxuLy8gICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgZXJyb3I6ICdVbmF1dGhvcml6ZWQ6IFRva2VuIG1pc3NpbmcnIH0pO1xyXG4vLyAgICAgICAgIH1cclxuXHJcbi8vICAgICAgICAgdHJ5IHtcclxuLy8gICAgICAgICAgICAgLy8gVmVyaWZ5IHRoZSBKV1QgdG9rZW5cclxuLy8gICAgICAgICAgICAgY29uc3QgZGVjb2RlZCA9IGp3dC52ZXJpZnkodG9rZW4sIHByb2Nlc3MuZW52LkpXVF9TRUNSRVQpO1xyXG4vLyAgICAgICAgICAgICBjb25zdCB1c2VySWQgPSBkZWNvZGVkLmlkO1xyXG5cclxuLy8gICAgICAgICAgICAgLy8gQ29ubmVjdCB0byB0aGUgZGF0YWJhc2VcclxuLy8gICAgICAgICAgICAgY29uc3QgY29ubmVjdGlvbiA9IGF3YWl0IGRiQ29ubmVjdCgpO1xyXG5cclxuLy8gICAgICAgICAgICAgLy8gRmV0Y2ggdGhlIGFwcG9pbnRtZW50cyBmb3IgdGhlIGxvZ2dlZC1pbiB1c2VyIGJ5IHVzZXIgSURcclxuLy8gICAgICAgICAgICAgY29uc3QgW3Jvd3NdID0gYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKCdTRUxFQ1QgKiBGUk9NIGFwcG9pbnRtZW50cyBXSEVSRSB1c2VyX2lkID0gPycsIFt1c2VySWRdKTtcclxuXHJcbi8vICAgICAgICAgICAgIC8vIENsb3NlIHRoZSBjb25uZWN0aW9uIGFmdGVyIHRoZSBxdWVyeVxyXG4vLyAgICAgICAgICAgICBhd2FpdCBjb25uZWN0aW9uLmVuZCgpO1xyXG5cclxuLy8gICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHJvd3MpO1xyXG4vLyAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbi8vICAgICAgICAgICAgIC8vIEhhbmRsZSBKV1QgZXJyb3JzIChsaWtlIG1hbGZvcm1lZCBvciBleHBpcmVkIHRva2VucylcclxuLy8gICAgICAgICAgICAgaWYgKGVycm9yLm5hbWUgPT09ICdKc29uV2ViVG9rZW5FcnJvcicpIHtcclxuLy8gICAgICAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IGVycm9yOiAnSW52YWxpZCBvciBtYWxmb3JtZWQgdG9rZW4nIH0pO1xyXG4vLyAgICAgICAgICAgICB9IGVsc2UgaWYgKGVycm9yLm5hbWUgPT09ICdUb2tlbkV4cGlyZWRFcnJvcicpIHtcclxuLy8gICAgICAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IGVycm9yOiAnVG9rZW4gZXhwaXJlZCcgfSk7XHJcbi8vICAgICAgICAgICAgIH0gZWxzZSB7XHJcbi8vICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBhcHBvaW50bWVudHM6JywgZXJyb3IpO1xyXG4vLyAgICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICdTZXJ2ZXIgZXJyb3Igd2hpbGUgZmV0Y2hpbmcgYXBwb2ludG1lbnRzJyB9KTtcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgIH1cclxuLy8gICAgIH0gZWxzZSB7XHJcbi8vICAgICAgICAgcmVzLnNldEhlYWRlcignQWxsb3cnLCBbJ0dFVCddKTtcclxuLy8gICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDUpLmpzb24oeyBlcnJvcjogYE1ldGhvZCAke3JlcS5tZXRob2R9IE5vdCBBbGxvd2VkYCB9KTtcclxuLy8gICAgIH1cclxuLy8gfVxyXG5cclxuXHJcblxyXG5pbXBvcnQgeyBkYkNvbm5lY3QgfSBmcm9tICcuLi8uLi9saWIvZGJDb25uZWN0JztcclxuaW1wb3J0IGp3dCBmcm9tICdqc29ud2VidG9rZW4nO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXEsIHJlcykge1xyXG4gICAgaWYgKHJlcS5tZXRob2QgPT09ICdHRVQnKSB7XHJcbiAgICAgICAgY29uc3QgYXV0aEhlYWRlciA9IHJlcS5oZWFkZXJzLmF1dGhvcml6YXRpb247XHJcbiAgICAgICAgY29uc3QgdG9rZW4gPSBhdXRoSGVhZGVyPy5zcGxpdCgnICcpWzFdOyAvLyBFeHRyYWN0IHRoZSB0b2tlbiBmcm9tIFwiQmVhcmVyIDx0b2tlbj5cIlxyXG5cclxuICAgICAgICAvLyBDaGVjayBpZiB0aGUgdG9rZW4gZXhpc3RzXHJcbiAgICAgICAgaWYgKCF0b2tlbikge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBlcnJvcjogJ1VuYXV0aG9yaXplZDogVG9rZW4gbWlzc2luZycgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyBWZXJpZnkgdGhlIEpXVCB0b2tlblxyXG4gICAgICAgICAgICBjb25zdCBkZWNvZGVkID0gand0LnZlcmlmeSh0b2tlbiwgcHJvY2Vzcy5lbnYuSldUX1NFQ1JFVCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHVzZXJJZCA9IGRlY29kZWQuaWQ7XHJcblxyXG4gICAgICAgICAgICAvLyBDb25uZWN0IHRvIHRoZSBkYXRhYmFzZVxyXG4gICAgICAgICAgICBjb25zdCBjb25uZWN0aW9uID0gYXdhaXQgZGJDb25uZWN0KCk7XHJcblxyXG4gICAgICAgICAgICAvLyBGZXRjaCB0aGUgYXBwb2ludG1lbnRzIGZvciB0aGUgbG9nZ2VkLWluIHVzZXIgYnkgdXNlciBJRFxyXG4gICAgICAgICAgICBjb25zdCBbcm93c10gPSBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUoJ1NFTEVDVCAqIEZST00gYXBwb2ludG1lbnRzIFdIRVJFIHVzZXJfaWQgPSA/JywgW3VzZXJJZF0pO1xyXG5cclxuICAgICAgICAgICAgLy8gQ2xvc2UgdGhlIGNvbm5lY3Rpb24gYWZ0ZXIgdGhlIHF1ZXJ5XHJcbiAgICAgICAgICAgIGF3YWl0IGNvbm5lY3Rpb24uZW5kKCk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24ocm93cyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgLy8gSGFuZGxlIEpXVCBlcnJvcnMgKGxpa2UgbWFsZm9ybWVkIG9yIGV4cGlyZWQgdG9rZW5zKVxyXG4gICAgICAgICAgICBpZiAoZXJyb3IubmFtZSA9PT0gJ0pzb25XZWJUb2tlbkVycm9yJykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgZXJyb3I6ICdJbnZhbGlkIG9yIG1hbGZvcm1lZCB0b2tlbicgfSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZXJyb3IubmFtZSA9PT0gJ1Rva2VuRXhwaXJlZEVycm9yJykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgZXJyb3I6ICdUb2tlbiBleHBpcmVkJyB9KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGFwcG9pbnRtZW50czonLCBlcnJvcik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ1NlcnZlciBlcnJvciB3aGlsZSBmZXRjaGluZyBhcHBvaW50bWVudHM6ICcgKyBlcnJvci5tZXNzYWdlIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICByZXMuc2V0SGVhZGVyKCdBbGxvdycsIFsnR0VUJ10pO1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNSkuanNvbih7IGVycm9yOiBgTWV0aG9kICR7cmVxLm1ldGhvZH0gTm90IEFsbG93ZWRgIH0pO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuLy8gcGFnZXMvYXBpL3VzZXJBcHBvaW50bWVudHMuanNcclxuLy8gaW1wb3J0IHBvb2wgZnJvbSAnLi4vLi4vZGInOyAvLyBBZGp1c3QgdGhlIGltcG9ydCBwYXRoIGFzIG5lY2Vzc2FyeVxyXG4vLyBpbXBvcnQgeyBwb29sIH0gZnJvbSAnLi4vLi4vbGliL2RiJztcclxuXHJcbi8vIGV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxLCByZXMpIHtcclxuLy8gICAgIGlmIChyZXEubWV0aG9kID09PSAnR0VUJykge1xyXG4vLyAgICAgICAgIHRyeSB7XHJcbi8vICAgICAgICAgICAgIGNvbnN0IHRva2VuID0gcmVxLmhlYWRlcnMuYXV0aG9yaXphdGlvbi5zcGxpdCgnICcpWzFdOyAvLyBBc3N1bWluZyB0b2tlbiBpcyBwYXNzZWQgYXMgJ0JlYXJlciB0b2tlbidcclxuLy8gICAgICAgICAgICAgY29uc3QgdXNlcklkID0gJ3lvdXJfdXNlcl9pZCc7IC8vIFJlcGxhY2UgdGhpcyB3aXRoIHlvdXIgbG9naWMgdG8gZXh0cmFjdCB1c2VyIElEIGZyb20gdG9rZW5cclxuICAgICAgICAgICAgXHJcbi8vICAgICAgICAgICAgIGNvbnN0IFthcHBvaW50bWVudHNdID0gYXdhaXQgcG9vbC5xdWVyeSgnU0VMRUNUICogRlJPTSBhcHBvaW50bWVudHMgV0hFUkUgdXNlcklkID0gPycsIFt1c2VySWRdKTtcclxuXHJcbi8vICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKGFwcG9pbnRtZW50cyk7XHJcbi8vICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuLy8gICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgYXBwb2ludG1lbnRzOicsIGVycm9yKTtcclxuLy8gICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBtZXNzYWdlOiAnRXJyb3IgZmV0Y2hpbmcgYXBwb2ludG1lbnRzJyB9KTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9IGVsc2Uge1xyXG4vLyAgICAgICAgIHJlcy5zZXRIZWFkZXIoJ0FsbG93JywgWydHRVQnXSk7XHJcbi8vICAgICAgICAgcmVzLnN0YXR1cyg0MDUpLmVuZChgTWV0aG9kICR7cmVxLm1ldGhvZH0gTm90IEFsbG93ZWRgKTtcclxuLy8gICAgIH1cclxuLy8gfVxyXG4iXSwibmFtZXMiOlsiZGJDb25uZWN0Iiwiand0IiwiaGFuZGxlciIsInJlcSIsInJlcyIsIm1ldGhvZCIsImF1dGhIZWFkZXIiLCJoZWFkZXJzIiwiYXV0aG9yaXphdGlvbiIsInRva2VuIiwic3BsaXQiLCJzdGF0dXMiLCJqc29uIiwiZXJyb3IiLCJkZWNvZGVkIiwidmVyaWZ5IiwicHJvY2VzcyIsImVudiIsIkpXVF9TRUNSRVQiLCJ1c2VySWQiLCJpZCIsImNvbm5lY3Rpb24iLCJyb3dzIiwiZXhlY3V0ZSIsImVuZCIsIm5hbWUiLCJjb25zb2xlIiwibWVzc2FnZSIsInNldEhlYWRlciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./pages/api/userAppointments.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2FuserAppointments&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5CuserAppointments.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();